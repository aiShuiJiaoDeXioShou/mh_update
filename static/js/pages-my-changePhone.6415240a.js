(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-my-changePhone"],{"0ec4":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var n={uNavbar:i("bd30").default,uField:i("ce68").default,uVerificationCode:i("5074").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("u-navbar",{attrs:{"border-bottom":!1,title:"",immersive:!0,background:{backgroundColor:"rgba(0, 0, 0, 0)"}}}),i("v-uni-view",{staticClass:"top"},[i("v-uni-image",{attrs:{src:"https://img.alicdn.com/imgextra/i3/2215984279448/O1CN01r6ian22JfEvQvErG0_!!2215984279448.png",mode:"widthFix"}}),i("v-uni-view",{staticClass:"text"},[i("v-uni-view",[t._v("你好，")]),i("v-uni-view",[t._v("请绑定手机号")])],1)],1),i("v-uni-view",{staticClass:"biaodan"},[i("v-uni-view",{staticClass:"row"},[i("u-field",{attrs:{type:"number",label:"+86",maxlength:"11",placeholder:"请填写手机号"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),i("v-uni-view",{staticClass:"row"},[i("u-field",{attrs:{type:"number",label:"验证码",placeholder:"请输入验证码"},model:{value:t.num,callback:function(e){t.num=e},expression:"num"}},[i("v-uni-text",{staticClass:"huoqu",attrs:{slot:"right"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getCode.apply(void 0,arguments)}},slot:"right"},[t._v(t._s(t.codeText))])],1),i("u-verification-code",{ref:"uCode",attrs:{"change-text":"xs"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.codeChange.apply(void 0,arguments)}}})],1),i("v-uni-button",{staticClass:"btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}},[t._v("绑定")])],1)],1)},o=[]},"29b4":function(t,e,i){"use strict";var n=i("aabf"),a=i.n(n);a.a},"5d05":function(t,e,i){var n=i("c86c");e=n(!1),e.push([t.i,".top[data-v-16ff1a5d]{position:relative}.top uni-image[data-v-16ff1a5d]{width:%?750?%}.top .text[data-v-16ff1a5d]{position:absolute;left:%?60?%;top:%?170?%;font-size:%?50?%}.biaodan[data-v-16ff1a5d]{padding:%?40?% %?60?%;box-sizing:border-box}.huoqu[data-v-16ff1a5d]{color:#00dad9}.row[data-v-16ff1a5d]{margin-bottom:%?30?%}.btn[data-v-16ff1a5d]{background-color:#00dad9;font-size:%?32?%;margin-top:%?40?%}",""]),t.exports=e},"86b5":function(t,e,i){"use strict";i("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("5c47"),i("0506");var n={data:function(){return{phone:"",num:"",code:"",codeText:""}},methods:{codeChange:function(t){this.codeText=t},getCode:function(){var t=this;if(this.$refs.uCode.canGetCode){if(0==this.$tip.phoneReg.test(this.phone))return void this.$tip.tip("请填写正确的手机号");uni.showLoading({title:"正在获取验证码"}),this.$http({url:"api/login/send_sms",data:{event:"bindmobile",mobile:this.phone}}).then((function(e){1==e.data.code&&(uni.hideLoading(),t.$refs.uCode.start())})).catch((function(t){}))}else this.$u.toast("倒计时结束后再发送")},submit:function(){var t=this;0!=this.$tip.phoneReg.test(this.phone)?""!=this.num?this.$http({url:"api/member/bind_mobile",data:{mobile:this.phone,code:this.num}}).then((function(e){console.log(e),1==e.data.code?(t.$tip.tip(e.data.msg),t.getUser(),setTimeout((function(){uni.switchTab({url:"/pages/tabBar/home"})}),700)):t.$tip.tip(e.data.msg)})).catch((function(t){})):this.$tip.tip("请填写验证码"):this.$tip.tip("请填写正确的手机号")},getUser:function(){this.$http({url:"api/member/get_user_info"}).then((function(t){1==t.data.code&&uni.setStorageSync("user",t.data.data)})).catch((function(t){}))}}};e.default=n},aabf:function(t,e,i){var n=i("5d05");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("967d").default;a("ddb344c4",n,!0,{sourceMap:!1,shadowMode:!1})},fed8:function(t,e,i){"use strict";i.r(e);var n=i("0ec4"),a=i("ff79");for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("29b4");var u=i("828b"),d=Object(u["a"])(a["default"],n["b"],n["c"],!1,null,"16ff1a5d",null,!1,n["a"],void 0);e["default"]=d.exports},ff79:function(t,e,i){"use strict";i.r(e);var n=i("86b5"),a=i.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a}}]);
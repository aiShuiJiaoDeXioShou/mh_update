(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-menber-menberinfo~pagesA-pages-my-my_popularize~pagesA-pages-my-yaoqing"],{"0e9b":function(t,e,n){"use strict";function r(t){var e,n,r;return t<128?[t]:t<2048?(e=192+(t>>6),n=128+(63&t),[e,n]):(e=224+(t>>12),n=128+(t>>6&63),r=128+(63&t),[e,n,r])}function a(t,e){this.typeNumber=-1,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.rsBlocks=null,this.totalDataCount=-1,this.data=t,this.utf8bytes=function(t){for(var e=[],n=0;n<t.length;n++)for(var a=t.charCodeAt(n),i=r(a),o=0;o<i.length;o++)e.push(i[o]);return e}(t),this.make()}n("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=a,n("aa9c"),n("7a76"),n("c9b5"),a.prototype={constructor:a,getModuleCount:function(){return this.moduleCount},make:function(){this.getRightType(),this.dataCache=this.createData(),this.createQrcode()},makeImpl:function(t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var e=0;e<this.moduleCount;e++)this.modules[e]=new Array(this.moduleCount);this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(!0,t),this.typeNumber>=7&&this.setupTypeNumber(!0),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(t,e){for(var n=-1;n<=7;n++)if(!(t+n<=-1||this.moduleCount<=t+n))for(var r=-1;r<=7;r++)e+r<=-1||this.moduleCount<=e+r||(this.modules[t+n][e+r]=0<=n&&n<=6&&(0==r||6==r)||0<=r&&r<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=r&&r<=4)},createQrcode:function(){for(var t=0,e=0,n=null,r=0;r<8;r++){this.makeImpl(r);var a=s.getLostPoint(this);(0==r||t>a)&&(t=a,e=r,n=this.modules)}this.modules=n,this.setupTypeInfo(!1,e),this.typeNumber>=7&&this.setupTypeNumber(!1)},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0,null==this.modules[6][t]&&(this.modules[6][t]=t%2==0))},setupPositionAdjustPattern:function(){for(var t=s.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var n=0;n<t.length;n++){var r=t[e],a=t[n];if(null==this.modules[r][a])for(var i=-2;i<=2;i++)for(var o=-2;o<=2;o++)this.modules[r+i][a+o]=-2==i||2==i||-2==o||2==o||0==i&&0==o}},setupTypeNumber:function(t){for(var e=s.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var r=!t&&1==(e>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=r,this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=r}},setupTypeInfo:function(t,e){for(var n=i[this.errorCorrectLevel]<<3|e,r=s.getBCHTypeInfo(n),a=0;a<15;a++){var o=!t&&1==(r>>a&1);a<6?this.modules[a][8]=o:a<8?this.modules[a+1][8]=o:this.modules[this.moduleCount-15+a][8]=o;o=!t&&1==(r>>a&1);a<8?this.modules[8][this.moduleCount-a-1]=o:a<9?this.modules[8][15-a-1+1]=o:this.modules[8][15-a-1]=o}this.modules[this.moduleCount-8][8]=!t},createData:function(){var t=new f,e=this.typeNumber>9?16:8;t.put(4,4),t.put(this.utf8bytes.length,e);for(var n=0,r=this.utf8bytes.length;n<r;n++)t.put(this.utf8bytes[n],8);t.length+4<=8*this.totalDataCount&&t.put(0,4);while(t.length%8!=0)t.putBit(!1);while(1){if(t.length>=8*this.totalDataCount)break;if(t.put(a.PAD0,8),t.length>=8*this.totalDataCount)break;t.put(a.PAD1,8)}return this.createBytes(t)},createBytes:function(t){for(var e=0,n=0,r=0,a=this.rsBlock.length/3,i=new Array,o=0;o<a;o++)for(var u=this.rsBlock[3*o+0],l=this.rsBlock[3*o+1],c=this.rsBlock[3*o+2],f=0;f<u;f++)i.push([c,l]);for(var h=new Array(i.length),v=new Array(i.length),g=0;g<i.length;g++){var w=i[g][0],m=i[g][1]-w;n=Math.max(n,w),r=Math.max(r,m),h[g]=new Array(w);for(o=0;o<h[g].length;o++)h[g][o]=255&t.buffer[o+e];e+=w;var p=s.getErrorCorrectPolynomial(m),b=new d(h[g],p.getLength()-1),y=b.mod(p);v[g]=new Array(p.getLength()-1);for(o=0;o<v[g].length;o++){var x=o+y.getLength()-v[g].length;v[g][o]=x>=0?y.get(x):0}}var k=new Array(this.totalDataCount),T=0;for(o=0;o<n;o++)for(g=0;g<i.length;g++)o<h[g].length&&(k[T++]=h[g][o]);for(o=0;o<r;o++)for(g=0;g<i.length;g++)o<v[g].length&&(k[T++]=v[g][o]);return k},mapData:function(t,e){for(var n=-1,r=this.moduleCount-1,a=7,i=0,o=this.moduleCount-1;o>0;o-=2){6==o&&o--;while(1){for(var u=0;u<2;u++)if(null==this.modules[r][o-u]){var l=!1;i<t.length&&(l=1==(t[i]>>>a&1));var d=s.getMask(e,r,o-u);d&&(l=!l),this.modules[r][o-u]=l,a--,-1==a&&(i++,a=7)}if(r+=n,r<0||this.moduleCount<=r){r-=n,n=-n;break}}}}},a.PAD0=236,a.PAD1=17;for(var i=[1,0,3,2],o={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},s={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){var e=t<<10;while(s.getBCHDigit(e)-s.getBCHDigit(s.G15)>=0)e^=s.G15<<s.getBCHDigit(e)-s.getBCHDigit(s.G15);return(t<<10|e)^s.G15_MASK},getBCHTypeNumber:function(t){var e=t<<12;while(s.getBCHDigit(e)-s.getBCHDigit(s.G18)>=0)e^=s.G18<<s.getBCHDigit(e)-s.getBCHDigit(s.G18);return t<<12|e},getBCHDigit:function(t){var e=0;while(0!=t)e++,t>>>=1;return e},getPatternPosition:function(t){return s.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,n){switch(t){case o.PATTERN000:return(e+n)%2==0;case o.PATTERN001:return e%2==0;case o.PATTERN010:return n%3==0;case o.PATTERN011:return(e+n)%3==0;case o.PATTERN100:return(Math.floor(e/2)+Math.floor(n/3))%2==0;case o.PATTERN101:return e*n%2+e*n%3==0;case o.PATTERN110:return(e*n%2+e*n%3)%2==0;case o.PATTERN111:return(e*n%3+(e+n)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new d([1],0),n=0;n<t;n++)e=e.multiply(new d([1,u.gexp(n)],0));return e},getLostPoint:function(t){for(var e=t.getModuleCount(),n=0,r=0,a=0;a<e;a++)for(var i=0,o=t.modules[a][0],s=0;s<e;s++){var u=t.modules[a][s];if(s<e-6&&u&&!t.modules[a][s+1]&&t.modules[a][s+2]&&t.modules[a][s+3]&&t.modules[a][s+4]&&!t.modules[a][s+5]&&t.modules[a][s+6]&&(s<e-10?t.modules[a][s+7]&&t.modules[a][s+8]&&t.modules[a][s+9]&&t.modules[a][s+10]&&(n+=40):s>3&&t.modules[a][s-1]&&t.modules[a][s-2]&&t.modules[a][s-3]&&t.modules[a][s-4]&&(n+=40)),a<e-1&&s<e-1){var l=0;u&&l++,t.modules[a+1][s]&&l++,t.modules[a][s+1]&&l++,t.modules[a+1][s+1]&&l++,0!=l&&4!=l||(n+=3)}o^u?i++:(o=u,i>=5&&(n+=3+i-5),i=1),u&&r++}for(s=0;s<e;s++)for(i=0,o=t.modules[0][s],a=0;a<e;a++){u=t.modules[a][s];a<e-6&&u&&!t.modules[a+1][s]&&t.modules[a+2][s]&&t.modules[a+3][s]&&t.modules[a+4][s]&&!t.modules[a+5][s]&&t.modules[a+6][s]&&(a<e-10?t.modules[a+7][s]&&t.modules[a+8][s]&&t.modules[a+9][s]&&t.modules[a+10][s]&&(n+=40):a>3&&t.modules[a-1][s]&&t.modules[a-2][s]&&t.modules[a-3][s]&&t.modules[a-4][s]&&(n+=40)),o^u?i++:(o=u,i>=5&&(n+=3+i-5),i=1)}var d=Math.abs(100*r/e/e-50)/5;return n+=10*d,n}},u={glog:function(t){if(t<1)throw new Error("glog("+t+")");return u.LOG_TABLE[t]},gexp:function(t){while(t<0)t+=255;while(t>=256)t-=255;return u.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},l=0;l<8;l++)u.EXP_TABLE[l]=1<<l;for(l=8;l<256;l++)u.EXP_TABLE[l]=u.EXP_TABLE[l-4]^u.EXP_TABLE[l-5]^u.EXP_TABLE[l-6]^u.EXP_TABLE[l-8];for(l=0;l<255;l++)u.LOG_TABLE[u.EXP_TABLE[l]]=l;function d(t,e){if(void 0==t.length)throw new Error(t.length+"/"+e);var n=0;while(n<t.length&&0==t[n])n++;this.num=new Array(t.length-n+e);for(var r=0;r<t.length-n;r++)this.num[r]=t[r+n]}d.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),n=0;n<this.getLength();n++)for(var r=0;r<t.getLength();r++)e[n+r]^=u.gexp(u.glog(this.get(n))+u.glog(t.get(r)));return new d(e,0)},mod:function(t){var e=this.getLength(),n=t.getLength();if(e-n<0)return this;for(var r=new Array(e),a=0;a<e;a++)r[a]=this.get(a);while(r.length>=n){var i=u.glog(r[0])-u.glog(t.get(0));for(a=0;a<t.getLength();a++)r[a]^=u.gexp(u.glog(t.get(a))+i);while(0==r[0])r.shift()}return new d(r,0)}};var c=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];function f(){this.buffer=new Array,this.length=0}a.prototype.getRightType=function(){for(var t=1;t<41;t++){var e=c[4*(t-1)+this.errorCorrectLevel];if(void 0==e)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+this.errorCorrectLevel);for(var n=e.length/3,r=0,a=0;a<n;a++){var i=e[3*a+0],o=e[3*a+2];r+=o*i}var s=t>9?2:1;if(this.utf8bytes.length+s<r||40==t){this.typeNumber=t,this.rsBlock=e,this.totalDataCount=r;break}}},f.prototype={get:function(t){var e=Math.floor(t/8);return this.buffer[e]>>>7-t%8&1},put:function(t,e){for(var n=0;n<e;n++)this.putBit(t>>>e-n-1&1)},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}}},"10d8":function(t,e,n){"use strict";n("6a54");var r=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.saveImageToPhotosAlbum=e.downloadFile=e.countTextLength=e.conversionUnit=e.base64ToPathFn=void 0,n("5c47"),n("0506"),n("bf0f"),n("2797"),n("dc8a"),n("4626"),n("fd3c"),n("c223"),n("d4b5");var a=r(n("fcf3")),i=r(n("3471")),o=n("a1b6");function s(t){var e;return e=/a/.test(t)?.552734375:/b/.test(t)?.638671875:/c/.test(t)?.50146484375:/d/.test(t)?.6396484375:/e/.test(t)?.5673828125:/f/.test(t)?.3466796875:/g/.test(t)?.6396484375:/h/.test(t)?.61572265625:/i/.test(t)?.26611328125:/j/.test(t)?.26708984375:/k/.test(t)?.54443359375:/l/.test(t)?.26611328125:/m/.test(t)?.93701171875:/n/.test(t)?.6162109375:/o/.test(t)?.6357421875:/p/.test(t)?.638671875:/q/.test(t)?.6396484375:/r/.test(t)?.3818359375:/s/.test(t)?.462890625:/t/.test(t)?.37255859375:/u/.test(t)?.6162109375:/v/.test(t)?.52490234375:/w/.test(t)?.78955078125:/x/.test(t)?.5068359375:/y/.test(t)?.529296875:/z/.test(t)?.49169921875:/A/.test(t)?.70361328125:/B/.test(t)?.62744140625:/C/.test(t)?.6689453125:/D/.test(t)?.76171875:/E/.test(t)?.5498046875:/F/.test(t)?.53125:/G/.test(t)?.74365234375:/H/.test(t)?.7734375:/I/.test(t)?.2939453125:/J/.test(t)?.39599609375:/K/.test(t)?.634765625:/L/.test(t)?.51318359375:/M/.test(t)?.97705078125:/N/.test(t)?.81298828125:/O/.test(t)?.81494140625:/P/.test(t)?.61181640625:/Q/.test(t)?.81494140625:/R/.test(t)?.65283203125:/S/.test(t)?.5771484375:/T/.test(t)?.5732421875:/U/.test(t)?.74658203125:/V/.test(t)?.67626953125:/W/.test(t)?1.017578125:/X/.test(t)?.64501953125:/Y/.test(t)?.603515625:/Z/.test(t)?.6201171875:/[0-9]/.test(t)?.58642578125:/[\u4e00-\u9fa5]/.test(t)?1:/ /.test(t)?.2958984375:/\`/.test(t)?.294921875:/\~/.test(t)?.74169921875:/\!/.test(t)?.3125:/\@/.test(t)?1.03125:/\#/.test(t)?.63818359375:/\$/.test(t)?.58642578125:/\%/.test(t)?.8896484375:/\^/.test(t)?.74169921875:/\&/.test(t)?.8701171875:/\*/.test(t)?.455078125:/\(/.test(t)||/\)/.test(t)?.333984375:/\_/.test(t)?.4482421875:/\-/.test(t)?.4326171875:/\+/.test(t)||/\=/.test(t)?.74169921875:/\|/.test(t)?.26904296875:/\\/.test(t)?.416015625:/\[/.test(t)||/\]/.test(t)?.333984375:/\;/.test(t)?.24072265625:/\'/.test(t)?.25634765625:/\,/.test(t)||/\./.test(t)?.24072265625:/\//.test(t)?.42724609375:/\{/.test(t)||/\}/.test(t)?.333984375:/\:/.test(t)?.24072265625:/\"/.test(t)?.435546875:/\</.test(t)||/\>/.test(t)?.74169921875:/\?/.test(t)?.48291015625:1,e}e.countTextLength=function(t,e,n){var r=function(t,e,n){var r;if(t.measureText)return(null===(r=t.measureText(e))||void 0===r?void 0:r.width)||0;var a,o=0,u=(0,i.default)(e);try{for(u.s();!(a=u.n()).done;){var l=a.value;o+=s(l)}}catch(d){u.e(d)}finally{u.f()}return o*n}(t,e,n);return 0!==r?r:e.length*n};e.conversionUnit=function t(e,n,r){var i=["quality","alpha","deg","zIndex","e","s","drawImage","drawModeImage"];if(e instanceof Array){return function(){return e.map((function(e){return t(e,n,r)}))}()}return function(){var o=Object.assign({},e);return Object.keys(e).forEach((function(s){var u=e[s];i.includes(s)||("number"===typeof u?375.0001!==u&&(o[s]=n.call(r,u)):"object"!==(0,a.default)(u)||u instanceof Array?u instanceof Array&&(o[s]=u.map((function(t){return"number"===typeof t?n.call(r,t):t}))):o[s]=t(o[s],n,r))})),o}()};e.downloadFile=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n){var r=e.header,a=void 0===r?{}:r;try{uni.downloadFile({url:t,header:a,success:function(t){return n({success:!0,data:t})},fail:function(e){return n({success:!1,message:"下载资源".concat(t,"失败---").concat(JSON.stringify(e))})}})}catch(i){return n({success:!1,msg:"下载资源".concat(t,"失败---").concat(JSON.stringify(i))})}}))};e.base64ToPathFn=function(t){return/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*?)\s*$/i.test(t)?(0,o.base64ToPath)(t):Promise.resolve(t)};e.saveImageToPhotosAlbum=function(t){return new Promise((function(e){uni.showLoading({title:"保存中..."}),uni.saveImageToPhotosAlbum({filePath:t,success:function(t){e({success:!0,data:t.file})},fail:function(t){e({success:!1,message:t})},complete:function(){uni.hideLoading()}})}))}},"138a":function(t,e,n){"use strict";n("6a54");var r=n("f5bd").default,a=n("3639").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n("3471")),o=r(n("a823"));n("c1a3"),n("bf0f"),n("18f7"),n("de6c"),n("5c47"),n("f3f7"),n("2797"),n("64aa"),n("aa9c"),n("473f");var s=r(n("2634")),u=r(n("2fdc")),l=r(n("9b1b")),d=r(n("80b1")),c=r(n("efe5")),f=r(n("5c0a")),h=r(n("7026")),v=r(n("ae1b")),g=r(n("f071")),w=a(n("fe69")),m=r(n("6fcb")),p=r(n("f2d3")),b=r(n("7636")),y=n("a8d8"),x=["type"],k=["callback"],T=function(){function t(e){(0,d.default)(this,t);var n=e.width,r=void 0===n?375.0001:n,a=e.height,i=void 0===a?0:a,o=e.canvasId,s=void 0===o?null:o,u=e._this,c=void 0===u?null:u,f=e.background,h=void 0===f?{}:f,v=e.type,g=void 0===v?"default":v,w=e.unit,m=void 0===w?"px":w,p=e.drawDelayTime,b=void 0===p?200:p,x=e.exportImageDelayTime,k=void 0===x?200:x,T=e.showDrawTips,C=void 0===T||T,P=e.drawTipsText,M=void 0===P?"绘制中...":P,I=e.showExportImagesTips,A=void 0===I||I,S=e.exportImageTips,D=void 0===S?"导出图片中...":S,L=e.fontStyle,R=void 0===L?{}:L,E=e.exportImageStyle,O=void 0===E?{}:E;this.background=(0,l.default)({type:"color",w:r,h:i,color:"#ffffff"},h),this.canvasId=s,this._this=c,this.type=g,this.type="default",this.is2d="2d"===this.type,this.unit=m,this.drawDelayTime=b,this.exportImageDelayTime=k,this.showDrawTips=C,this.drawTipsText=M,this.showExportImagesTips=A,this.exportImageTips=D,this.fontStyle=(0,l.default)({size:"default"===this.type?16:32,family:"sans-serif",style:"normal",variant:"normal",weight:"normal"},R),this.commonUtilMethods=new y.CommonUtilMethods({unit:m,type:this.type,width:r,height:i,fontStyle:this.fontStyle}),this.setCanvasStyle(r,i),this.exportImageStyle=(0,l.default)({width:r,height:i,x:0,y:0,fileType:"png",quality:1},O),this.allCallback=[],this.$eventsMap=new Map,this.createContext(),this.drawCallback=null}return(0,c.default)(t,[{key:"createContext",value:function(){var t=(0,u.default)((0,s.default)().mark((function t(){var e,n,r,a,i,o,u,l,d,c=this;return(0,s.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.width,n=this.height,r=this.canvasId,a=this._this,i=this.type,o=this.is2d,u=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;c.Context=t,c.canvas=e,c.commonDrawMethods=new y.CommonDrawMethods(t,i,c.commonUtilMethods),c.commonUtilMethods.Context=t,c.commonUtilMethods.canvas=e,c.initDrawMethods(),c.$emit("init")},l=uni.getSystemInfoSync().pixelRatio,this.dpr=l,o){t.next=11;break}return d=uni.createCanvasContext(r,a),t.next=8,(0,y.sleep)(50);case 8:u(d),t.next=12;break;case 11:uni.createSelectorQuery().select("#".concat(r)).fields({node:!0,size:!0}).exec((function(t){var r=t[0].node,a=r.getContext(i);r.width=c.commonUtilMethods.getConvertedValue(e)*l,r.height=c.commonUtilMethods.getConvertedValue(n)*l,a.scale(l,l),u(a,r)}));case 12:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"initDrawMethods",value:function(){var t=this.Context,e=this.commonUtilMethods,n=this.commonDrawMethods,r={Context:t,commonUtilMethods:e,commonDrawMethods:n};this.canvasMethods=new b.default(this);var a=new f.default(r),i=new h.default(r),o=new v.default(r),s=new g.default(r),u=new w.default(r),l=new m.default(r),d=new p.default(r);this.commonDrawMethods.drawParams={drawText:a,drawLine:i,drawRect:o,drawArc:s,drawImage:u,drawTriangle:l,drawQrcode:d},this.drawText=a,this.drawLine=i,this.drawRect=o,this.drawArc=s,this.drawImage=u,this.drawTriangle=l,this.drawQrcode=d}},{key:"setExportImageStyle",value:function(t){this.exportImageStyle=(0,l.default)((0,l.default)({},this.exportImageStyle),t)}},{key:"setBackgroundStyle",value:function(t){this.background=(0,l.default)((0,l.default)({},this.background),t)}},{key:"setCanvasStyle",value:function(){var t=(0,u.default)((0,s.default)().mark((function t(e,n){var r,a,i,o;return(0,s.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.width=e,this.height=n,this.commonUtilMethods.width=e,this.commonUtilMethods.height=n,this.commonUtilMethods.setCanvasStyle(),this.callbackInfo={bgObj:{width:this.background.w,height:this.background.h},ctxObj:{width:e,height:n}},this.setExportImageStyle({width:e,height:n}),!this.canvas){t.next=17;break}return r=this.dpr,a=this.canvas,i=this.Context,o=this.commonUtilMethods,a.width=o.getConvertedValue(e)*r,a.height=o.getConvertedValue(n)*r,i.scale(r,r),t.next=14,this.drawBackground(!1);case 14:if(!this.drawArrayFn){t.next=17;break}return t.next=17,this.drawCanvas(this.drawArrayFn(this.callbackInfo),!1);case 17:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"$on",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t&&e&&"function"===typeof e){var n=this.$eventsMap.get(t);n||this.$eventsMap.set(t,n=new Set),n.add(e)}}},{key:"$emit",value:function(){for(var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];if(e){var i=this.$eventsMap.get(e);i&&i.forEach((function(e){e.apply(t,r)}))}}},{key:"drawBackground",value:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=this.background,r=this.width,a=this.height,i=(this.Context,this.drawRect),d=this.drawImage,c=this.unit;this.commonUtilMethods;return new Promise(function(){var f=(0,u.default)((0,s.default)().mark((function u(f){var h,v,g,w,m,p,b,y;return(0,s.default)().wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(h=n.type,v=(0,o.default)(n,x),e||t.canvasMethods.clearCanvas(),g={},"color"!==h){s.next=7;break}g=i.draw((0,l.default)((0,l.default)({},v),{},{w:null!==(w=v.w)&&void 0!==w?w:r,h:null!==(m=v.h)&&void 0!==m?m:a,color:null!==(p=v.color)&&void 0!==p?p:"#ffffff"})),s.next=11;break;case 7:if("image"!==h){s.next=11;break}return s.next=10,d.draw((0,l.default)((0,l.default)({},v),{},{w:null!==(b=v.w)&&void 0!==b?b:r,h:null!==(y=v.h)&&void 0!==y?y:a}));case 10:g=s.sent;case 11:g.style={width:g.w+c,height:g.h+c},t.background.w=g.w,t.background.h=g.h,e&&t.$emit("background",g),f(g);case 16:case"end":return s.stop()}}),u)})));return function(t){return f.apply(this,arguments)}}())}},{key:"setAllCallBack",value:function(){var t=(0,u.default)((0,s.default)().mark((function t(e){var n,r,a,i,o,u,l,d,c,f,h,v,g,m,p,b,y,x,k,T,C,P,M,I,A,S,D,L,R,E,O,_,U,F,z,j,B,W,N,G,H,X,V,$,q,Q,J,K,Y,Z,tt,et,nt;return(0,s.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=this.width,r=this.commonUtilMethods,a=this.commonDrawMethods,i=r.canvasWidth,o=e.type,u=e.x,l=void 0===u?0:u,d=e.y,c=void 0===d?0:d,f=e.r,h=void 0===f?0:f,v=e.w,g=void 0===v?i:v,m=e.h,p=void 0===m?0:m,b=e.lineWidth,y=void 0===b?1:b,x=e.size,k=void 0===x?0:x,T=e.name,C=void 0===T?"":T,P=e.windowAlign,M=void 0===P?"none":P,I=e.drawType,A=void 0===I?"default":I,S=e.mode,D=void 0===S?"aspectFill":S,L=e.src,R=void 0===L?"":L,E=e.offsetRight,O=void 0===E?0:E,_=l,U=c,F=l+g,z=c+p,"text"!==o){t.next=19;break}j=this.drawText.getDrawParams(e,!1),B=j.text,W=j.textIndent,N=j.lastWidth,G=j.font,H=j.line,X=j.textAlign,V=j.windowAlign,$=j.color,q=j.highlightText,Q=a.computedFontTextLineHeight({x:l,y:c,w:g,text:B,textIndent:W,lastWidth:N,font:G,line:H,textAlign:X,windowAlign:V,defaultColor:$,offsetRight:O,highlightText:q}),J=Q[Q.length-1],K=Q[0],z=J.ey,F=K.tx+K.w,e.textArr=r.conversionUnit(Q),e.h=z-U,e.tw=K.w,t.next=58;break;case 19:if("arc"!==o){t.next=26;break}F=l+2*h,z=c+2*h,g=2*h,p=2*h,t.next=58;break;case 26:if("line"!==o){t.next=31;break}z=c+y,p=y,t.next=58;break;case 31:if("qrcode"!==o){t.next=38;break}F=l+k,z=c+k,g=k,p=k,t.next=58;break;case 38:if("image"!==o){t.next=58;break}return"none"!==M&&(l=a.computedCenterX(n,g,M,O)),t.next=42,(0,w.getImageSrc)(R);case 42:if(Y=t.sent,Y.success){t.next=45;break}return t.abrupt("return",Y);case 45:return R=Y.src,t.next=48,(0,w.getImageInfo)(R);case 48:if(Z=t.sent,Z.success){t.next=51;break}return t.abrupt("return",Promise.resolve(!0));case 51:tt=(0,w.getModeImage)(Number(Z.width),Number(Z.height),r.getConvertedValue(l),r.getConvertedValue(c),r.getConvertedValue(g),r.getConvertedValue(p),D),tt.dx,tt.dy,tt.dw,tt.dh,et=tt.sw,nt=tt.sh,tt.sx,tt.sy,"widthFix"===D?(p="rpx"===this.unit?r.pxToRpx(nt):nt,z=c+p):"heightFix"===D&&(g="rpx"===this.unit?r.pxToRpx(et):et,F=l+g),"arc"===A&&0==p&&(p=g,z=c+p),e.drawModeImage=tt,e.drawSrc=R,e.drawImageInfo=Z;case 58:return e.sx=_,e.sy=U,e.ex=F,e.ey=z,this.allCallback.push({sx:_,sy:U,ex:F,ey:z,w:g,h:p,name:C,before:e.before||{}}),t.abrupt("return",Promise.resolve(!0));case 64:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"drawCanvas",value:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this.Context,a=this.showDrawTips,d=this.showExportImagesTips;return new Promise(function(){var c=(0,u.default)((0,s.default)().mark((function u(c){var f,h,v,g,w,m,p,b,y,x,T,C;return(0,s.default)().wrap((function(s){while(1)switch(s.prev=s.next){case 0:s.prev=0,f=(0,i.default)(t),s.prev=2,f.s();case 4:if((h=f.n()).done){s.next=36;break}if(v=h.value,v.callback&&"function"===typeof v.callback&&"custom"!==v.type&&(g=0==e.allCallback.length?{}:e.allCallback[e.allCallback.length-1],w=v.callback(g,e.allCallback)||{},m=v,m.callback,p=(0,o.default)(m,k),v=(0,l.default)((0,l.default)({},p),w)),"custom"===v.type||"custom"===v.drawType){s.next=10;break}return s.next=10,e.setAllCallBack(v);case 10:s.t0=v.type,s.next="text"===s.t0?13:"rect"===s.t0?15:"image"===s.t0?17:"arc"===s.t0?23:"triangle"===s.t0?25:"line"===s.t0?27:"qrcode"===s.t0?29:"custom"===s.t0?32:34;break;case 13:return e.drawText.draw(v),s.abrupt("break",34);case 15:return e.drawRect.draw(v),s.abrupt("break",34);case 17:return s.next=19,e.drawImage.draw(v);case 19:if(b=s.sent,b.success){s.next=22;break}return s.abrupt("return",c(b));case 22:return s.abrupt("break",34);case 23:return e.drawArc.draw(v),s.abrupt("break",34);case 25:return e.drawTriangle.draw(v),s.abrupt("break",34);case 27:return e.drawLine.draw(v),s.abrupt("break",34);case 29:return s.next=31,e.drawQrcode.draw(v);case 31:return s.abrupt("break",34);case 32:return v.setDraw(r,e),s.abrupt("break",34);case 34:s.next=4;break;case 36:s.next=41;break;case 38:s.prev=38,s.t1=s["catch"](2),f.e(s.t1);case 41:return s.prev=41,f.f(),s.finish(41);case 44:if(c({success:!0}),n){s.next=47;break}return s.abrupt("return");case 47:y=e.width,x=e.height,T=e.allCallback.reduce((function(t,e){return Math.max(t,e.ey)}),0),C=e.allCallback.reduce((function(t,e){return Math.max(t,e.ex)}),0),e.$emit("drawComplete",{width:y,height:x,contentHeight:T,contentWidth:C}),s.next=56;break;case 53:return s.prev=53,s.t2=s["catch"](0),s.abrupt("return",c({success:!1,msg:"绘制内容失败:"+s.t2}));case 56:return s.prev=56,(a||d)&&uni.hideLoading(),s.finish(56);case 59:case"end":return s.stop()}}),u,null,[[0,53,56,59],[2,38,41,44]])})));return function(t){return c.apply(this,arguments)}}())}},{key:"drawPoster",value:function(t){var e=this,n=this.callbackInfo,r=this.showDrawTips,a=this.drawTipsText,i=this.showExportImagesTips;return new Promise(function(){var o=(0,u.default)((0,s.default)().mark((function o(u){var l;return(0,s.default)().wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(t&&"function"===typeof t){o.next=2;break}return o.abrupt("return",u({success:!1,msg:"drawPoster参数错误"}));case 2:if(!e.drawArrayFn){o.next=7;break}return e.allCallback=[],e.canvasMethods.clearCanvas(),o.next=7,e.drawBackground(!1);case 7:return e.drawArrayFn=t,r&&uni.showLoading({title:a}),o.next=11,e.drawCanvas(t(n));case 11:if(l=o.sent,l.success){o.next=14;break}return o.abrupt("return",u(l));case 14:return o.t0=u,o.next=17,e.canvasMethods.canvasDraw();case 17:o.t1=o.sent,(0,o.t0)(o.t1),(r||i)&&uni.hideLoading();case 20:case"end":return o.stop()}}),o)})));return function(t){return o.apply(this,arguments)}}())}}]),t}();e.default=T},"15ab":function(t,e,n){"use strict";var r=n("7658"),a=n("57e7");r("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),a)},1851:function(t,e,n){"use strict";var r=n("8bdb"),a=n("84d6"),i=n("1cb5");r({target:"Array",proto:!0},{fill:a}),i("fill")},"1dbd":function(t,e,n){"use strict";var r=n("ac5f"),a=n("1fc1"),i=n("41c7"),o=n("ae5c"),s=function(t,e,n,u,l,d,c,f){var h,v,g=l,w=0,m=!!c&&o(c,f);while(w<u)w in n&&(h=m?m(n[w],w,e):n[w],d>0&&r(h)?(v=a(h),g=s(t,e,h,v,g,d-1)-1):(i(g+1),t[g]=h),g++),w++;return g};t.exports=s},"1ea2":function(t,e,n){"use strict";var r=n("af9e"),a=n("1c06"),i=n("ada5"),o=n("5d6e"),s=Object.isExtensible,u=r((function(){s(1)}));t.exports=u||o?function(t){return!!a(t)&&((!o||"ArrayBuffer"!==i(t))&&(!s||s(t)))}:s},3471:function(t,e,n){"use strict";n("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=(0,r.default)(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var a=0,i=function(){};return{s:i,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,o=t},f:function(){try{s||null==n["return"]||n["return"]()}finally{if(u)throw o}}}},n("01a2"),n("e39c"),n("bf0f"),n("844d"),n("18f7"),n("de6c"),n("7a76"),n("c9b5");var r=function(t){return t&&t.__esModule?t:{default:t}}(n("5d6b"))},3639:function(t,e,n){n("bf0f"),n("18f7"),n("d0af"),n("de6c"),n("6a54"),n("9a2c");var r=n("bdbb")["default"];function a(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(a=function(t){return t?n:e})(t)}t.exports=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var n=a(e);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var u=o?Object.getOwnPropertyDescriptor(t,s):null;u&&(u.get||u.set)?Object.defineProperty(i,s,u):i[s]=t[s]}return i["default"]=t,n&&n.set(t,i),i},t.exports.__esModule=!0,t.exports["default"]=t.exports},5075:function(t,e,n){"use strict";var r=n("ae5c"),a=n("71e9"),i=n("e7e3"),o=n("52df"),s=n("81a7"),u=n("1fc1"),l=n("1297"),d=n("d67c"),c=n("5112"),f=n("7e91"),h=TypeError,v=function(t,e){this.stopped=t,this.result=e},g=v.prototype;t.exports=function(t,e,n){var w,m,p,b,y,x,k,T=n&&n.that,C=!(!n||!n.AS_ENTRIES),P=!(!n||!n.IS_RECORD),M=!(!n||!n.IS_ITERATOR),I=!(!n||!n.INTERRUPTED),A=r(e,T),S=function(t){return w&&f(w,"normal",t),new v(!0,t)},D=function(t){return C?(i(t),I?A(t[0],t[1],S):A(t[0],t[1])):I?A(t,S):A(t)};if(P)w=t.iterator;else if(M)w=t;else{if(m=c(t),!m)throw new h(o(t)+" is not iterable");if(s(m)){for(p=0,b=u(t);b>p;p++)if(y=D(t[p]),y&&l(g,y))return y;return new v(!1)}w=d(t,m)}x=P?t.next:w.next;while(!(k=a(x,w)).done){try{y=D(k.value)}catch(L){f(w,"throw",L)}if("object"==typeof y&&y&&l(g,y))return y}return new v(!1)}},"53f7":function(t,e,n){"use strict";var r=n("7658"),a=n("57e7");r("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),a)},"57e7":function(t,e,n){"use strict";var r=n("e37c"),a=n("e4ca"),i=n("a74c"),o=n("ae5c"),s=n("b720"),u=n("1eb8"),l=n("5075"),d=n("0cc2"),c=n("97ed"),f=n("437f"),h=n("ab4a"),v=n("d0b1").fastKey,g=n("235c"),w=g.set,m=g.getterFor;t.exports={getConstructor:function(t,e,n,d){var c=t((function(t,a){s(t,f),w(t,{type:e,index:r(null),first:void 0,last:void 0,size:0}),h||(t.size=0),u(a)||l(a,t[d],{that:t,AS_ENTRIES:n})})),f=c.prototype,g=m(e),p=function(t,e,n){var r,a,i=g(t),o=b(t,e);return o?o.value=n:(i.last=o={index:a=v(e,!0),key:e,value:n,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=o),r&&(r.next=o),h?i.size++:t.size++,"F"!==a&&(i.index[a]=o)),t},b=function(t,e){var n,r=g(t),a=v(e);if("F"!==a)return r.index[a];for(n=r.first;n;n=n.next)if(n.key===e)return n};return i(f,{clear:function(){var t=g(this),e=t.first;while(e)e.removed=!0,e.previous&&(e.previous=e.previous.next=void 0),e=e.next;t.first=t.last=void 0,t.index=r(null),h?t.size=0:this.size=0},delete:function(t){var e=g(this),n=b(this,t);if(n){var r=n.next,a=n.previous;delete e.index[n.index],n.removed=!0,a&&(a.next=r),r&&(r.previous=a),e.first===n&&(e.first=r),e.last===n&&(e.last=a),h?e.size--:this.size--}return!!n},forEach:function(t){var e,n=g(this),r=o(t,arguments.length>1?arguments[1]:void 0);while(e=e?e.next:n.first){r(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!b(this,t)}}),i(f,n?{get:function(t){var e=b(this,t);return e&&e.value},set:function(t,e){return p(this,0===t?0:t,e)}}:{add:function(t){return p(this,t=0===t?0:t,t)}}),h&&a(f,"size",{configurable:!0,get:function(){return g(this).size}}),c},setStrong:function(t,e,n){var r=e+" Iterator",a=m(e),i=m(r);d(t,e,(function(t,e){w(this,{type:r,target:t,state:a(t),kind:e,last:void 0})}),(function(){var t=i(this),e=t.kind,n=t.last;while(n&&n.removed)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?c("keys"===e?n.key:"values"===e?n.value:[n.key,n.value],!1):(t.target=void 0,c(void 0,!0))}),n?"entries":"values",!n,!0),f(e)}}},"5c0a":function(t,e,n){"use strict";n("6a54");var r=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("4626"),n("5ac7"),n("c223"),n("fd3c"),n("71cb"),n("f18a"),n("bf0f"),n("2797"),n("5ef2"),n("aa9c"),n("dc8a"),n("aa77"),n("f7a5");var a=r(n("3471")),i=r(n("a823")),o=r(n("9b1b")),s=r(n("80b1")),u=r(n("efe5")),l=(n("a8d8"),["vorizontal","vertical"]),d=["text","color","i","fontSize","siblingsCenter","siblingsNum"],c=function(){function t(e){(0,s.default)(this,t),Object.assign(this,e)}return(0,u.default)(t,[{key:"getDrawParams",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.commonUtilMethods.getGlobalDataDrawParams(t),r=t.text,a=void 0===r?"":r,i=t.textIndent,s=void 0===i?0:i,u=t.lastWidth,l=void 0===u?0:u,d=t.font,c=void 0===d?{}:d,f=t.textAlign,h=void 0===f?"none":f,v=t.baseline,g=void 0===v?"top":v,w=t.line,m=void 0===w?{}:w,p=t.highlightText,b=void 0===p?[]:p,y=t.textRect,x=void 0===y?{show:!1,isFill:!0,lineWidth:1}:y,k=(0,o.default)((0,o.default)({},n),{},{text:String(a)||"",textIndent:s,lastWidth:l,font:e?this.commonUtilMethods.conversionUnit(this.getFontStyle(c)):this.getFontStyle(c,e),textAlign:h,baseline:g,line:this.getTextLine(m,e),highlightText:b,textRect:x});return e?this.commonUtilMethods.conversionUnit(k):k}},{key:"draw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.Context,r=this.commonUtilMethods,s=this.commonDrawMethods,u=r.canvasWidth,d=r.is2d,c=this.getDrawParams(t,e),f=c.x,h=c.y,v=c.w,g=(c.h,c.text),w=c.textIndent,m=c.lastWidth,p=c.font,b=c.color,y=c.alpha,x=c.isFill,k=c.line,T=c.windowAlign,C=c.textAlign,P=c.baseline,M=c.highlightText,I=c.textRect,A=c.offsetRight;n.save(),n.beginPath(),s.setAlpha(y),n.font=p.style,d?n.textBaseline=P:n.setTextBaseline(P),"string"!==typeof g&&(g+="");var S=t.textArr||s.computedFontTextLineHeight({x:f,y:h,w:v,text:g,textIndent:w,lastWidth:m,font:p,line:k,textAlign:C,windowAlign:T,color:b,offsetRight:A,highlightText:M});if(I.show){var D,L=r.conversionUnit(I),R=L.vorizontal,E=L.vertical,O=(0,i.default)(L,l),_=S[0],U=v===u?null!==(D=r.conversionUnit(t).tw)&&void 0!==D?D:_.w:v,F=_.x-R,z=_.y-E,j=S[S.length-1].y+p.fontSize,B=j-_.y;B+=2*E,U+=2*R,s.drawParams.drawRect.draw((0,o.default)({x:F,y:z,w:U,h:B},O),!1)}n.font=p.style;var W=0;W=p.style.includes(8)?8:p.style.includes(16)?16:p.fontSize;var N,G=(0,a.default)(S);try{for(G.s();!(N=G.n()).done;){var H=N.value,X=H.text,V=H.x,$=H.y,q=H.tx,Q=H.ty,J=H.tw,K=H.fontColor,Y=H.fontSize,Z=H.font;if(W!==Y){var tt=p.fontStyle,et=p.fontVariant,nt=p.fontWeight,rt=p.fontFamily,at=Z.fontStyle,it=Z.fontVariant,ot=Z.fontWeight,st=Z.fontFamily;n.font="".concat(at||tt," ").concat(it||et," ").concat(ot||nt," ").concat(Y||W,"px ").concat(st||rt),W=Y}x?(s.setFillStyle(K),n.fillText(X,V,$)):(s.setStrokeStyle(K),n.strokeText(X,V,$)),"none"!==k.lineStyle&&(x?s.setFillStyle(b):s.setStrokeStyle(b),s.drawParams.drawLine.draw({x:q,y:Q,w:J,color:b,lineType:k.lineType,lineWidth:k.lineWidth},!1))}}catch(ut){G.e(ut)}finally{G.f()}n.restore(),n.font=this.getFontStyle().style,s.setAlpha(1)}},{key:"getFontStyle",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=(0,o.default)((0,o.default)({},this.commonUtilMethods.fontStyle),t),r=n.size,a=n.family,i=n.style,s=n.variant,u=n.weight;return{fontSize:r,fontSizeBefore:r,fontFamily:a,fontStyle:i,fontVariant:s,fontWeight:u,style:"".concat(i||"normal"," ").concat(s||"normal"," ").concat(u||"normal"," ").concat(e?this.commonUtilMethods.getConvertedValue(r):r,"px ").concat(a||"sans-serif")}}},{key:"getTextLine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t.num,r=void 0===n?-1:n,a=t.height,i=void 0===a?0:a,o=t.style,s=void 0===o?"none":o,u=t.type,l=void 0===u?"solid":u,d=t.width,c=void 0===d?1:d;return{lineNum:r,lineHeight:e?this.commonUtilMethods.getConvertedValue(i):i,lineStyle:s,lineType:l,lineWidth:c}}},{key:"formatTextData",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"black",r=arguments.length>2?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=t.includes("\n"),o=0!==a.length;if(i){var s=t.split("\n").map((function(t,e){return{text:t,isBr:e>0}}));return o?s.map((function(t){var i=t.text,o=t.isBr;return e.formatHighlightText(i,n,r,a,o)})).flat():s.map((function(t){var e=t.text,a=t.isBr;return{text:e,color:n,font:r,isBr:a}}))}return o?this.formatHighlightText(t,n,r,a):[{text:t,color:n,font:r}]}},{key:"formatHighlightText",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"black",r=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=[],u=a.map((function(t){return t.i=0,t})),l=!0,c=[];while(l)u.forEach((function(a){var o=a.text,s=a.color,u=void 0===s?n:s,f=a.i,h=a.fontSize,v=a.siblingsCenter,g=void 0===v?"bottom":v,w=a.siblingsNum,m=void 0===w?0:w,p=(0,i.default)(a,d),b=t.indexOf(o,f);t.includes(o)&&-1!==b?(a.i=b+1+o.length,c.push({index:b,length:o.length,color:u,fontSize:null!==h&&void 0!==h?h:r.fontSize,font:0!==Object.keys(p).length?e.getFontStyle(p,!1):r,siblingsCenter:g,siblingsNum:m})):l=!1}));for(var f=c.map((function(t){return t.index})),h="",v=function(e){if(f.includes(e)){var a=c.find((function(t){return t.index===e})),i=a.length,u=a.color,l=a.fontSize,d=a.font,v=a.siblingsCenter,w=a.siblingsNum;return h&&(s.push({text:h,color:n,fontSize:r.fontSize,font:r,isBr:o}),o&&(o=!1),h=""),s.push({text:t.slice(e,e+i),color:u,fontSize:l,font:d,siblingsCenter:v,siblingsNum:w,isBr:o}),o&&(o=!1),e+=i-1,g=e,"continue"}h+=t[e],e===t.length-1&&(s.push({text:h,color:n,fontSize:r.fontSize,font:r,isBr:o}),o&&(o=!1)),g=e},g=0;g<t.length;g++)v(g);return s}}]),t}();e.default=c},"5d6e":function(t,e,n){"use strict";var r=n("af9e");t.exports=r((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}))},"6fcb":function(t,e,n){"use strict";n("6a54");var r=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("1851");var a=r(n("3471")),i=r(n("9b1b")),o=r(n("80b1")),s=r(n("efe5")),u=function(){function t(e){(0,o.default)(this,t),Object.assign(this,e)}return(0,s.default)(t,[{key:"getDrawParams",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.commonUtilMethods.getGlobalDataDrawParams(t),r=t.coordinate,a=void 0===r?[]:r,o=t.drawType,s=void 0===o?"isosceles":o,u=t.direction,l=void 0===u?"top":u,d=(0,i.default)((0,i.default)({},n),{},{coordinate:a,drawType:s,direction:l});return e?this.commonUtilMethods.conversionUnit(d):d}},{key:"draw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.Context,r=this.commonUtilMethods,i=this.commonDrawMethods,o=r.canvasWidth,s=(r.is2d,this.getDrawParams(t,e)),u=s.x,l=s.y,d=s.w,c=s.h,f=s.color,h=s.alpha,v=s.isFill,g=s.lineWidth,w=s.drawType,m=s.offsetRight,p=s.coordinate,b=s.rotate,y=s.windowAlign,x=s.direction,k=s.borderWidth,T=s.borderColor,C=s.drawImage;if("black"===f&&C?f="none":"black"===f&&(f="#ffffff"),"none"!==y&&"custom"!=w&&(u=i.computedCenterX(o,d,y,m)),b.deg&&"custom"!==w&&(n.save(),i.setTriangleRotate(u,l,d,c,b,w)),n.beginPath(),i.setAlpha(h),"isosceles"===w)switch(x){case"top":n.lineTo(u+d/2,l),n.lineTo(u,l+c),n.lineTo(u+d,l+c);break;case"bottom":n.lineTo(u,l),n.lineTo(u+d,l),n.lineTo(u+d/2,l+c);break;case"right":n.lineTo(u,l),n.lineTo(u,l+c),n.lineTo(u+d,l+c/2);break;case"left":n.lineTo(u+d,l),n.lineTo(u+d,l+c),n.lineTo(u,l+c/2);break}else if("right"===w)switch(x){case"top":n.lineTo(u,l),n.lineTo(u,l+c),n.lineTo(u+d,l+c);break;case"bottom":n.lineTo(u,l),n.lineTo(u+d,l),n.lineTo(u,l+c);break;case"left":n.lineTo(u,l),n.lineTo(u,l+c),n.lineTo(u+d,l);break;case"right":n.lineTo(u,l+c),n.lineTo(u+d,l+c),n.lineTo(u+d,l);break}else if("custom"===w){var P,M=(0,a.default)(p);try{for(M.s();!(P=M.n()).done;){var I=P.value;n.lineTo(I[0],I[1])}}catch(A){M.e(A)}finally{M.f()}}n.closePath(),v?(0!==k&&(i.setLineWidth(k),i.setStrokeStyle(T),n.stroke()),(!C||C&&"none"!==f)&&(i.setFillStyle(f),n.fill())):(i.setLineWidth(g),i.setStrokeStyle(f),n.stroke()),i.setAlpha(1),b.deg&&"custom"!==w&&n.restore()}}]),t}();e.default=u},7026:function(t,e,n){"use strict";n("6a54");var r=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=r(n("9b1b")),i=r(n("80b1")),o=r(n("efe5")),s=function(){function t(e){(0,i.default)(this,t),Object.assign(this,e)}return(0,o.default)(t,[{key:"getDrawParams",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.commonUtilMethods.getGlobalDataDrawParams(t),r=t.algin,i=void 0===r?"right":r,o=t.lineType,s=void 0===o?"solid":o,u=t.pattern,l=void 0===u?[6,6]:u,d=t.offset,c=void 0===d?6:d,f=t.lineCap,h=void 0===f?"butt":f,v=(0,a.default)((0,a.default)({},n),{},{algin:i,lineType:s,pattern:l,offset:c,lineCap:h});return e?this.commonUtilMethods.conversionUnit(v):v}},{key:"draw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.Context,r=this.commonUtilMethods,a=this.commonDrawMethods,i=r.canvasWidth,o=r.is2d,s=this.getDrawParams(t,e),u=s.x,l=s.y,d=s.color,c=s.w,f=s.algin,h=s.alpha,v=s.lineType,g=s.pattern,w=s.offset,m=s.lineCap,p=s.lineWidth,b=s.windowAlign,y=s.offsetRight;switch(n.beginPath(),a.setAlpha(h),"dashed"===v&&(o?(n.setLineDash(g),n.lineDashOffset=w):n.setLineDash(g,w)),o?n.lineCap=m:n.setLineCap(m),a.setLineWidth(p),a.setStrokeStyle(d),f){case"right":"none"!==b&&(u=a.computedCenterX(i,c,b,y)),n.moveTo(u,l),n.lineTo(c+u,l);break;case"left":"none"!==b&&(u=a.computedCenterX(i,c,b,y)),n.moveTo(u,l),n.lineTo("none"==b?u-c:u+c,l);break;case"top":n.moveTo(u,l),n.lineTo(u,-(l+c));break;case"bottom":n.moveTo(u,l),n.lineTo(u,l+c);break}n.stroke(),n.closePath(),o?(n.setLineDash([0,0]),n.lineDashOffset=0):n.setLineDash([0,0]),a.setAlpha(1)}}]),t}();e.default=s},"71cb":function(t,e,n){"use strict";var r=n("8bdb"),a=n("1dbd"),i=n("1099"),o=n("1fc1"),s=n("497b"),u=n("3242");r({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=i(this),n=o(e),r=u(e,0);return r.length=a(r,e,e,n,0,void 0===t?1:s(t)),r}})},7636:function(t,e,n){"use strict";n("6a54");var r=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("bf0f"),n("d4b5"),n("4100");var a=r(n("9b1b")),i=r(n("2634")),o=r(n("2fdc")),s=r(n("80b1")),u=r(n("efe5")),l=n("a8d8"),d=function(){function t(e){(0,s.default)(this,t),this.drawPoster=e}return(0,u.default)(t,[{key:"clearCanvas",value:function(){var t=this.drawPoster.Context;t.clearRect(0,0,999999,999999)}},{key:"exportImage",value:function(){var t=this,e=this.drawPoster,n=e.exportImageDelayTime,r=e.showExportImagesTips,a=e.exportImageTips;return new Promise(function(){var e=(0,o.default)((0,i.default)().mark((function e(o){return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r&&uni.showLoading({title:a}),e.next=3,(0,l.sleep)(n);case 3:return e.t0=o,e.next=6,t.createCanvasFilePath();case 6:e.t1=e.sent,(0,e.t0)(e.t1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},{key:"createCanvasFilePath",value:function(){var t=this.drawPoster,e=(t.Context,t.canvas),n=t.canvasId,r=t._this,i=t.is2d,o=t.exportImageStyle,s=t.dpr,u=t.showExportImagesTips,l=t.showDrawTips,d=o.width,c=o.height,f=o.x,h=o.y,v=o.fileType,g=o.quality,w=o.destWidth,m=o.destHeight,p={};return w&&(p.destWidth=w),m&&(p.destHeight=m),i&&(d*=s,c*=s),new Promise((function(t){try{uni.canvasToTempFilePath((0,a.default)((0,a.default)({canvasId:n,canvas:e,x:f,y:h,width:Math.floor(d),height:Math.floor(c),quality:g,fileType:v},p),{},{success:function(e){return t({success:!0,data:e.tempFilePath,msg:"绘画成功"})},fail:function(e){return t({success:!1,msg:"导出图片失败: ".concat(JSON.stringify(e))})},complete:function(){(u||l)&&uni.hideLoading()}}),r)}catch(i){return t({success:!1,msg:"导出图片失败: 绘画错误"+i})}}))}},{key:"canvasDraw",value:function(){var t=this,e=this.drawPoster,n=e.Context,r=e.drawDelayTime,a=e.is2d;return new Promise(function(){var e=(0,o.default)((0,i.default)().mark((function e(s){return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,l.sleep)(r);case 2:if(!a){e.next=10;break}return e.t0=s,e.next=6,t.exportImage();case 6:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 10:return e.next=12,n.draw(!0,(0,o.default)((0,i.default)().mark((function e(){return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=s,e.next=3,t.exportImage();case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)}))));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},{key:"sortDrawArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.sort((function(t,e){var n=t.zIndex||0,r=e.zIndex||0;return n-r}))}}]),t}();e.default=d},7658:function(t,e,n){"use strict";var r=n("8bdb"),a=n("85c1"),i=n("bb80"),o=n("8466"),s=n("81a9"),u=n("d0b1"),l=n("5075"),d=n("b720"),c=n("474f"),f=n("1eb8"),h=n("1c06"),v=n("af9e"),g=n("29ba"),w=n("181d"),m=n("dcda");t.exports=function(t,e,n){var p=-1!==t.indexOf("Map"),b=-1!==t.indexOf("Weak"),y=p?"set":"add",x=a[t],k=x&&x.prototype,T=x,C={},P=function(t){var e=i(k[t]);s(k,t,"add"===t?function(t){return e(this,0===t?0:t),this}:"delete"===t?function(t){return!(b&&!h(t))&&e(this,0===t?0:t)}:"get"===t?function(t){return b&&!h(t)?void 0:e(this,0===t?0:t)}:"has"===t?function(t){return!(b&&!h(t))&&e(this,0===t?0:t)}:function(t,n){return e(this,0===t?0:t,n),this})},M=o(t,!c(x)||!(b||k.forEach&&!v((function(){(new x).entries().next()}))));if(M)T=n.getConstructor(e,t,p,y),u.enable();else if(o(t,!0)){var I=new T,A=I[y](b?{}:-0,1)!==I,S=v((function(){I.has(1)})),D=g((function(t){new x(t)})),L=!b&&v((function(){var t=new x,e=5;while(e--)t[y](e,e);return!t.has(-0)}));D||(T=e((function(t,e){d(t,k);var n=m(new x,t,T);return f(e)||l(e,n[y],{that:n,AS_ENTRIES:p}),n})),T.prototype=k,k.constructor=T),(S||L)&&(P("delete"),P("has"),p&&P("get")),(L||A)&&P(y),b&&k.clear&&delete k.clear}return C[t]=T,r({global:!0,constructor:!0,forced:T!==x},C),w(T,t),b||n.setStrong(T,t,p),T}},a1b6:function(t,e,n){"use strict";n("6a54");var r=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.base64ToPath=function(t){return new Promise((function(e,n){if("object"===("undefined"===typeof window?"undefined":(0,a.default)(window))&&"document"in window){t=t.split(",");var r=t[0].match(/:(.*?);/)[1],i=atob(t[1]),o=i.length,s=new Uint8Array(o);while(o--)s[o]=i.charCodeAt(o);return e((window.URL||window.webkitURL).createObjectURL(new Blob([s],{type:r})))}var u=t.match(/data\:\S+\/(\S+);/);u?u=u[1]:n(new Error("base64 error"));var l=Date.now()+"."+u;if("object"!==("undefined"===typeof plus?"undefined":(0,a.default)(plus)))if("object"===("undefined"===typeof wx?"undefined":(0,a.default)(wx))&&wx.canIUse("getFileSystemManager")){var d=wx.env.USER_DATA_PATH+"/"+l;wx.getFileSystemManager().writeFile({filePath:d,data:t.replace(/^data:\S+\/\S+;base64,/,""),encoding:"base64",success:function(){e(d)},fail:function(t){n(t)}})}else n(new Error("not support"));else{var c=new plus.nativeObj.Bitmap("bitmap"+Date.now());c.loadBase64Data(t,(function(){var t="_doc/uniapp_temp/"+l;c.save(t,{},(function(){c.clear(),e(t)}),(function(t){c.clear(),n(t)}))}),(function(t){c.clear(),n(t)}))}}))},e.pathToBase64=function(t){return new Promise((function(e,n){if("object"===("undefined"===typeof window?"undefined":(0,a.default)(window))&&"document"in window){if("function"===typeof FileReader){var r=new XMLHttpRequest;return r.open("GET",t,!0),r.responseType="blob",r.onload=function(){if(200===this.status){var t=new FileReader;t.onload=function(t){e(t.target.result)},t.onerror=n,t.readAsDataURL(this.response)}},r.onerror=n,void r.send()}var i=document.createElement("canvas"),o=i.getContext("2d"),s=new Image;return s.onload=function(){i.width=s.width,i.height=s.height,o.drawImage(s,0,0),e(i.toDataURL()),i.height=i.width=0},s.onerror=n,void(s.src=t)}"object"!==("undefined"===typeof plus?"undefined":(0,a.default)(plus))?"object"===("undefined"===typeof wx?"undefined":(0,a.default)(wx))&&wx.canIUse("getFileSystemManager")?wx.getFileSystemManager().readFile({filePath:t,encoding:"base64",success:function(t){e("data:image/png;base64,"+t.data)},fail:function(t){n(t)}}):n(new Error("not support")):plus.io.resolveLocalFileSystemURL(function(t){if(0===t.indexOf("_www")||0===t.indexOf("_doc")||0===t.indexOf("_documents")||0===t.indexOf("_downloads"))return t;if(0===t.indexOf("file://"))return t;if(0===t.indexOf("/storage/emulated/0/"))return t;if(0===t.indexOf("/")){var e=plus.io.convertAbsoluteFileSystem(t);if(e!==t)return e;t=t.substr(1)}return"_www/"+t}(t),(function(t){t.file((function(t){var r=new plus.io.FileReader;r.onload=function(t){e(t.target.result)},r.onerror=function(t){n(t)},r.readAsDataURL(t)}),(function(t){n(t)}))}),(function(t){n(t)}))}))};var a=r(n("fcf3"));n("5ef2"),n("bf0f"),n("7a76"),n("c9b5"),n("5c47"),n("2c10"),n("15d1"),n("d5c6"),n("5a56"),n("f074"),n("4db2"),n("c976"),n("4d8f"),n("7b97"),n("668a"),n("c5b7"),n("8ff5"),n("2378"),n("641a"),n("64e0"),n("cce3"),n("efba"),n("d009"),n("bd7d"),n("7edd"),n("d798"),n("f547"),n("5e54"),n("b60a"),n("8c18"),n("12973"),n("f991"),n("198e"),n("8557"),n("63b1"),n("1954"),n("1cf1"),n("18f7"),n("de6c"),n("dc89"),n("2425"),n("a1c1")},a823:function(t,e,n){"use strict";n("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(null==t)return{};var n,a,i=(0,r.default)(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i},n("01a2"),n("5ef2");var r=function(t){return t&&t.__esModule?t:{default:t}}(n("cfa9"))},a8d8:function(t,e,n){"use strict";n("6a54");var r=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.CommonUtilMethods=e.CommonDrawMethods=void 0,e.sleep=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300;return new Promise((function(e){setTimeout((function(){e(!0)}),t)}))},n("4626"),n("5ac7"),n("64aa"),n("bd06"),n("8f71"),n("bf0f"),n("473f"),n("aa9c"),n("71cb"),n("f18a"),n("fd3c"),n("dd2b"),n("aa77"),n("dc69");var a=r(n("3471")),i=r(n("9b1b")),o=r(n("80b1")),s=r(n("efe5")),u=n("10d8"),l=function(){function t(e){(0,o.default)(this,t);var n=e.unit,r=e.type,a=e.width,i=e.height,s=e.fontStyle;this.unit=n,this.type=r,this.is2d="2d"===r,this.width=a,this.height=i,this.fontStyle=s,this.Context=null,this.canvas=null}return(0,s.default)(t,[{key:"setCanvasStyle",value:function(){var t=this.width,e=this.height;this.canvasWidth=this.getConvertedValue(t),this.canvasHeight=this.getConvertedValue(e)}},{key:"getConvertedValue",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return 0===t?0:"px"===this.unit?t:375.0001===t?375.0001:uni.upx2px(t)}},{key:"pxToRpx",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t/(uni.upx2px(100)/100)}},{key:"rpxToPx",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=!1;return!t.includes("px")||t.includes("r")||t.includes("u")?t.includes("rpx")?t=Number(t.split("rpx")[0]):t.includes("upx")&&(t=Number(t.split("upx")[0])):(t=Number(t.split("px")[0]),e=!0),e?t:uni.upx2px(t)}},{key:"conversionUnit",value:function(t){return(0,u.conversionUnit)(t,this.getConvertedValue,this)}},{key:"getGlobalDataDrawParams",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.width,n=t.x,r=void 0===n?0:n,a=t.y,o=void 0===a?0:a,s=t.w,u=void 0===s?e:s,l=t.h,d=void 0===l?0:l,c=t.r,f=void 0===c?0:c,h=t.color,v=void 0===h?"black":h,g=t.alpha,w=void 0===g?1:g,m=t.isFill,p=void 0===m||m,b=t.lineWidth,y=void 0===b?1:b,x=t.windowAlign,k=void 0===x?"none":x,T=t.rotate,C=void 0===T?{}:T,P=t.drawImage,M=void 0!==P&&P,I=t.borderColor,A=void 0===I?"#000000":I,S=t.borderWidth,D=void 0===S?0:S,L=t.borderType,R=void 0===L?"default":L,E=t.offsetRight,O=void 0===E?0:E,_=t.shadow,U=t.gradient,F=void 0===U?{}:U,z={x:r,y:o,w:u,h:d,r:f};return(0,i.default)((0,i.default)({},z),{},{color:v,lineWidth:y,borderWidth:D,borderColor:A,borderType:R,alpha:w,isFill:p,windowAlign:k,rotate:C,shadow:this.getShadow(_),gradient:F,offsetRight:O,drawImage:M})}},{key:"getShadow",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.show,n=void 0!==e&&e,r=t.x,a=void 0===r?0:r,i=t.y,o=void 0===i?0:i,s=t.blur,u=void 0===s?0:s,l=t.color,d=void 0===l?"#000000":l;return{show:n,x:a,y:o,blur:u,color:d}}},{key:"getGradient",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"linear",e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=n.x0,o=void 0===i?0:i,s=n.y0,u=void 0===s?0:s,l=n.x1,d=void 0===l?0:l,c=n.y1,f=void 0===c?0:c,h=n.x,v=void 0===h?0:h,g=n.y,w=void 0===g?0:g,m=n.r,p=void 0===m?0:m;return"linear"==t?(n.x0=e?o+a.x:o,n.y0=e?u+a.y:u,n.x1=e?d+a.x:d,n.y1=e?f+a.y:f):(n.x=e?v+a.x:v,n.y=e?w+a.y:w,n.r=p),"linear"==t?this.getLinearGradient(n,r):this.getCircularGradient(n,r)}},{key:"getLinearGradient",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=this.Context,i=e.x0,o=e.y0,s=e.x1,u=e.y1,l=r.createLinearGradient(i,o,s,u),d=(0,a.default)(n);try{for(d.s();!(t=d.n()).done;){var c=t.value;l.addColorStop(c.stop,c.color)}}catch(f){d.e(f)}finally{d.f()}return l}},{key:"getCircularGradient",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=this.Context,i=e.x,o=e.y,s=e.r,u=r.createCircularGradient(i,o,s),l=(0,a.default)(n);try{for(l.s();!(t=l.n()).done;){var d=t.value;u.addColorStop(d.stop,d.color)}}catch(c){l.e(c)}finally{l.f()}return u}}]),t}();e.CommonUtilMethods=l;var d=function(){function t(e,n,r){(0,o.default)(this,t),this.Context=e,this.type=n,this.is2d="2d"===n,this.commonUtilMethods=r,this.drawParams={}}return(0,s.default)(t,[{key:"setAlpha",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this.Context,n=this.is2d;n?e.globalAlpha=t:e.setGlobalAlpha(t)}},{key:"setFillStyle",value:function(t){var e=this.Context,n=this.is2d;n?e.fillStyle=t:e.setFillStyle(t)}},{key:"setLineWidth",value:function(t){var e=this.Context,n=this.is2d;n?e.lineWidth=t:e.setLineWidth(t)}},{key:"setStrokeStyle",value:function(t){var e=this.Context,n=this.is2d;n?e.strokeStyle=t:e.setStrokeStyle(t)}},{key:"setShadow",value:function(t,e,n,r){var a=this.Context;this.is2d;a.shadowOffsetX=t,a.shadowOffsetY=e,a.shadowColor=r,a.shadowBlur=n}},{key:"setRotate",value:function(t,e,n,r,a){var i=this.Context,o=a.deg,s=void 0===o?0:o,u=a.type,l=void 0===u?"middle":u,d=t,c=e;switch(l){case"topLeft":i.translate(d,c),i.rotate(s*Math.PI/180),i.translate(-d,-c);break;case"topMiddle":d=t+n/2,i.translate(d,c),i.rotate(s*Math.PI/180),i.translate(-d,-c);break;case"topRight":d=t+n,i.translate(d,c),i.rotate(s*Math.PI/180),i.translate(-d,-c);break;case"bottomLeft":c=e+r,i.translate(d,c),i.rotate(s*Math.PI/180),i.translate(-d,-c);break;case"bottomMiddle":d=t+n/2,c=e+r,i.translate(d,c),i.rotate(s*Math.PI/180),i.translate(-d,-c);break;case"bottomRight":d=t+n,c=e+r,i.translate(d,c),i.rotate(s*Math.PI/180),i.translate(-d,-c);break;case"middleLeft":c=e+r/2,i.translate(d,c),i.rotate(s*Math.PI/180),i.translate(-d,-c);break;case"middleRight":d=t+n,c=e+r/2,i.translate(d,c),i.rotate(s*Math.PI/180),i.translate(-d,-c);break;case"middle":d=t+n/2,c=e+r/2,i.translate(d,c),i.rotate(s*Math.PI/180),i.translate(-d,-c);break}}},{key:"setTriangleRotate",value:function(t,e,n,r,a,i){var o=this.Context,s=a.deg,u=void 0===s?0:s,l=a.type,d=void 0===l?"middle":l,c=t,f=e;switch(d){case"top":"right"==i?(c=t,f=e):(c=t+n/2,f=e),o.translate(c,f),o.rotate(u*Math.PI/180),o.translate(-c,-f);break;case"left":c=t,f=e+r,o.translate(c,f),o.rotate(u*Math.PI/180),o.translate(-c,-f);break;case"right":c=t+n,f=e+r,o.translate(c,f),o.rotate(u*Math.PI/180),o.translate(-c,-f);break;case"middle":c=t+n/2,f=e+r/2,o.translate(c,f),o.rotate(u*Math.PI/180),o.translate(-c,-f);break}}},{key:"computedCenterX",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"center",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return"center"===n?(t-e)/2-r:"right"===n?t-e-r:0}},{key:"computedFontTextLineHeight",value:function(t){var e=t.x,n=t.y,r=t.w,a=(t.text,t.textIndent),i=t.lastWidth,o=t.font,s=t.line,u=t.textAlign,l=t.windowAlign,d=(t.defaultColor,t.offsetRight),c=(t.highlightText,this.Context),f=this.commonUtilMethods,h=(this.drawParams,f.canvasWidth),v=(f.is2d,o.fontSize);c.font=o.style;var g=s.lineNum,w=s.lineHeight,m=s.lineStyle,p=this.computedTextPositionAndRow(t);w=1==w?v+2:w;var b=p.length,y=p.findIndex((function(t){return t.rowIndex==g})),x=-1!=g&&-1!=y?y:b,k=p.filter((function(t){return t.rowIndex+1==g})).length,T=0;x>b&&(x=b);for(var C=[],P=p.reduce((function(t,e){var n=e.rowIndex,r=e.length;return t[n]=(t[n]||0)+r,t}),{}),M=0;M<x;M++){var I=p[M],A=I.text,S=I.length,D=I.lastText,L=I.limitText,R=I.limitTextWidth,E=I.color,O=I.rowIndex,_=I.dataX,U=I.fontSize,F=I.font,z=I.isCustomFont,j={},B=e+(null!==_&&void 0!==_?_:0),W=e+(null!==_&&void 0!==_?_:0);if(0===O&&0===_&&0!==a&&"none"==u&&"none"==l&&(S+=a,B+=a,W=B),A&&-1!=g&&O==g-1&&++T===k&&(i>0?(A=L,S=R):A=S+_+U>=r?D:A),"none"!==u&&S<=r){var N=r;S==r&&(N=h),W=this.computedCenterX(N,P[O],u),B+=W}"none"!==l&&"none"!==u?(B=this.computedCenterX(h,f.getConvertedValue(r),l,d),B+=W,W=B):"none"!==l&&(B=this.computedCenterX(h,f.getConvertedValue(r),l,d),W=B);var G=0,H=n+O*w;if("none"!==m&&(W+=f.getConvertedValue(0),G=S+f.getConvertedValue(0),"underline"==m?H+=U+1:"lineThrough"==m&&(H+=U/2)),j.w=S,j.text=A,j.x=B,0==w?(j.y=n+U*O,H+=U*O):j.y=n+w*O,z){var X=p[M],V=X.siblingsCenter,$=X.siblingsNum;j.y-=$,"center"===V?j.y-=(U-v)/2:"bottom"===V&&(j.y-=U-v)}j.fontColor=E,j.lineColor=E,j.tw=G,j.ty=H,j.tx=W,j.ey=j.y+U,j.fontSize=U,j.font=F,A&&C.push(j)}return C}},{key:"computedTextPositionAndRow",value:function(t){t.x,t.y;var e=t.w,n=t.text,r=t.textIndent,a=t.lastWidth,i=t.font,o=(t.line,t.textAlign,t.windowAlign,t.defaultColor),s=(t.offsetRight,t.highlightText),l=this.Context,d=(this.commonUtilMethods,this.drawParams),c=i.fontSize,f=d.drawText.formatTextData(n,o,i,s),h=0,v=0,g=0,w=c,m=i.style;return f.map((function(t,n){var i=t.text,o=t.color,s=t.font,d=t.siblingsCenter,f=t.siblingsNum,p=t.isBr,b=[],y=[],x="",k=0;p&&(++v,h=0);var T=s.fontSize||c;T!==w&&(w=T,m=s.style,l.font=m);for(var C=function(t){var e=0==b.length?0:b[b.length-1].index,n=Object.assign([],y).splice(e,t),r=0!=a&&0!=n.length&&n.reverse().find((function(t){return t.length<=a}));b.push({length:k,text:x,index:t-1,lastText:x.substring(0,x.length-1)+"...",limitText:r?r.text+"...":"",limitTextWidth:(0,u.countTextLength)(l,r.text+"...",T),color:o,rowIndex:v,dataX:h,fontSize:T,fontStyle:m,font:s,isCustomFont:w!==c,siblingsCenter:d,siblingsNum:f}),x=""},P=0;P<i.length;P++)x+=i[P],k=(0,u.countTextLength)(l,x,T),0!==r&&0===v&&0===g&&(h+=r,++g),h+k>e-T?(P===i.length-1&&(k=0),C(P),h=0,++v,k=0):((k>=e-T||P==i.length-1)&&(C(P),k>=e-T&&++v),y.push({index:P,text:x,length:k}));return h+=k,b})).flat()}}]),t}();e.CommonDrawMethods=d},ae1b:function(t,e,n){"use strict";n("6a54");var r=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("4626"),n("5ac7"),n("1851");var a=r(n("fcf3")),i=r(n("80b1")),o=r(n("efe5")),s=function(){function t(e){(0,i.default)(this,t),Object.assign(this,e)}return(0,o.default)(t,[{key:"getDrawParams",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.commonUtilMethods.getGlobalDataDrawParams(t);return e?this.commonUtilMethods.conversionUnit(n):n}},{key:"draw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.Context,r=this.commonUtilMethods,i=this.commonDrawMethods,o=r.canvasWidth,s=(r.is2d,r.pxToRpx),u=r.unit,l=this.getDrawParams(t,e),d=l.x,c=l.y,f=l.w,h=l.h,v=l.r,g=l.color,w=l.alpha,m=l.isFill,p=l.lineWidth,b=l.windowAlign,y=l.rotate,x=l.drawImage,k=l.borderColor,T=l.borderWidth,C=l.borderType,P=l.shadow,M=l.gradient,I=l.offsetRight;"black"===g&&x?g="none":"black"===g&&(g="#ffffff"),"number"===typeof v&&2*v>h&&(v=h/2),"none"!==b&&(d=i.computedCenterX(o,f,b,I)||d),!x&&y.deg&&(n.save(),i.setRotate(d,c,f,h,y)),x&&P.show&&i.setShadow(P.x,P.y,P.blur,P.color),!x&&P.show&&i.setShadow(P.x,P.y,P.blur,P.color),n.beginPath(),i.setAlpha(w);var A=0,S=0,D=0,L=0;if("object"===(0,a.default)(v)){var R=v.length;1===R?(S=v[0],A=v[0],D=v[0],L=v[0]):2===R?(S=v[0],A=v[1],D=v[0],L=v[1]):3===R?(S=v[0],A=v[1],D=v[2],L=v[1]):4===R&&(S=v[0],A=v[1],D=v[2],L=v[3])}else if("string"===typeof C)switch(C){case"tr":A=v;break;case"tl":S=v;break;case"br":D=v;break;case"bl":L=v;break;default:A=v,S=v,D=v,L=v}else C instanceof Array&&"number"===typeof v&&(C.includes("tr")?A=v:C.includes("tl")?S=v:C.includes("br")?D=v:C.includes("bl")?L=v:C.includes("default")&&(A=v,S=v,D=v,L=v));if(n.lineTo(d+S,c),n.arc(d+f-A,c+A,A,1.5*Math.PI,0,!1),n.lineTo(d+f,c+h-D),n.arc(d+f-D,c+h-D,D,0,.5*Math.PI,!1),n.lineTo(d+L,c+h),n.arc(d+L,c+h-L,L,.5*Math.PI,Math.PI,!1),n.lineTo(d,c+S),n.arc(d+S,c+S,S,1*Math.PI,1.5*Math.PI,!1),n.closePath(),m){if(0!=T&&(i.setLineWidth(T),i.setStrokeStyle(k),n.stroke()),M.show){var E=M.type,O=void 0===E?"linear":E,_=M.relative,U=M.position,F=M.colors;g=r.getGradient(O,_,r.conversionUnit(U),F,{x:d,y:c})}(!x||x&&"none"!==g)&&(i.setFillStyle(g),n.fill())}else i.setLineWidth(p),i.setStrokeStyle(g),n.stroke();return i.setAlpha(1),!x&&y.deg&&n.restore(),P.show&&i.setShadow(0,0,0,"black"),{success:!0,w:"rpx"===u?s(f):f,h:"rpx"===u?s(h):h}}}]),t}();e.default=s},b3e2:function(t,e,n){"use strict";var r,a=n("c238"),i=n("85c1"),o=n("bb80"),s=n("a74c"),u=n("d0b1"),l=n("7658"),d=n("d871c"),c=n("1c06"),f=n("235c").enforce,h=n("af9e"),v=n("a20b"),g=Object,w=Array.isArray,m=g.isExtensible,p=g.isFrozen,b=g.isSealed,y=g.freeze,x=g.seal,k=!i.ActiveXObject&&"ActiveXObject"in i,T=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},C=l("WeakMap",T,d),P=C.prototype,M=o(P.set);if(v)if(k){r=d.getConstructor(T,"WeakMap",!0),u.enable();var I=o(P["delete"]),A=o(P.has),S=o(P.get);s(P,{delete:function(t){if(c(t)&&!m(t)){var e=f(this);return e.frozen||(e.frozen=new r),I(this,t)||e.frozen["delete"](t)}return I(this,t)},has:function(t){if(c(t)&&!m(t)){var e=f(this);return e.frozen||(e.frozen=new r),A(this,t)||e.frozen.has(t)}return A(this,t)},get:function(t){if(c(t)&&!m(t)){var e=f(this);return e.frozen||(e.frozen=new r),A(this,t)?S(this,t):e.frozen.get(t)}return S(this,t)},set:function(t,e){if(c(t)&&!m(t)){var n=f(this);n.frozen||(n.frozen=new r),A(this,t)?M(this,t,e):n.frozen.set(t,e)}else M(this,t,e);return this}})}else(function(){return a&&h((function(){var t=y([]);return M(new C,t,1),!p(t)}))})()&&s(P,{set:function(t,e){var n;return w(t)&&(p(t)?n=y:b(t)&&(n=x)),M(this,t,e),n&&n(t),this}})},c1a3:function(t,e,n){"use strict";n("15ab")},c238:function(t,e,n){"use strict";var r=n("af9e");t.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},cfa9:function(t,e,n){"use strict";n("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(null==t)return{};var n,r,a={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(a[n]=t[n]);return a},n("dc8a"),n("5ef2")},d0af:function(t,e,n){"use strict";n("b3e2")},d0b1:function(t,e,n){"use strict";var r=n("8bdb"),a=n("bb80"),i=n("11bf"),o=n("1c06"),s=n("338c"),u=n("d6b1").f,l=n("80bb"),d=n("8449"),c=n("1ea2"),f=n("d7b4"),h=n("c238"),v=!1,g=f("meta"),w=0,m=function(t){u(t,g,{value:{objectID:"O"+w++,weakData:{}}})},p=t.exports={enable:function(){p.enable=function(){},v=!0;var t=l.f,e=a([].splice),n={};n[g]=1,t(n).length&&(l.f=function(n){for(var r=t(n),a=0,i=r.length;a<i;a++)if(r[a]===g){e(r,a,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:d.f}))},fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!s(t,g)){if(!c(t))return"F";if(!e)return"E";m(t)}return t[g].objectID},getWeakData:function(t,e){if(!s(t,g)){if(!c(t))return!0;if(!e)return!1;m(t)}return t[g].weakData},onFreeze:function(t){return h&&v&&c(t)&&!s(t,g)&&m(t),t}};i[g]=!0},d871c:function(t,e,n){"use strict";var r=n("bb80"),a=n("a74c"),i=n("d0b1").getWeakData,o=n("b720"),s=n("e7e3"),u=n("1eb8"),l=n("1c06"),d=n("5075"),c=n("4d16"),f=n("338c"),h=n("235c"),v=h.set,g=h.getterFor,w=c.find,m=c.findIndex,p=r([].splice),b=0,y=function(t){return t.frozen||(t.frozen=new x)},x=function(){this.entries=[]},k=function(t,e){return w(t.entries,(function(t){return t[0]===e}))};x.prototype={get:function(t){var e=k(this,t);if(e)return e[1]},has:function(t){return!!k(this,t)},set:function(t,e){var n=k(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=m(this.entries,(function(e){return e[0]===t}));return~e&&p(this.entries,e,1),!!~e}},t.exports={getConstructor:function(t,e,n,r){var c=t((function(t,a){o(t,h),v(t,{type:e,id:b++,frozen:void 0}),u(a)||d(a,t[r],{that:t,AS_ENTRIES:n})})),h=c.prototype,w=g(e),m=function(t,e,n){var r=w(t),a=i(s(e),!0);return!0===a?y(r).set(e,n):a[r.id]=n,t};return a(h,{delete:function(t){var e=w(this);if(!l(t))return!1;var n=i(t);return!0===n?y(e)["delete"](t):n&&f(n,e.id)&&delete n[e.id]},has:function(t){var e=w(this);if(!l(t))return!1;var n=i(t);return!0===n?y(e).has(t):n&&f(n,e.id)}}),a(h,n?{get:function(t){var e=w(this);if(l(t)){var n=i(t);return!0===n?y(e).get(t):n?n[e.id]:void 0}},set:function(t,e){return m(this,t,e)}}:{add:function(t){return m(this,t,!0)}}),c}}},f071:function(t,e,n){"use strict";n("6a54");var r=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("1851");var a=r(n("9b1b")),i=r(n("80b1")),o=r(n("efe5")),s=function(){function t(e){(0,i.default)(this,t),Object.assign(this,e)}return(0,o.default)(t,[{key:"getDrawParams",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.commonUtilMethods.getGlobalDataDrawParams(t),r=t.s,i=void 0===r?0:r,o=t.e,s=void 0===o?2*Math.PI:o,u=t.d,l=void 0!==u&&u,d=(0,a.default)((0,a.default)({},n),{},{s:i,e:s,d:l});return e?this.commonUtilMethods.conversionUnit(d):d}},{key:"draw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.Context,r=this.commonUtilMethods,a=this.commonDrawMethods,i=r.canvasWidth,o=(r.is2d,this.getDrawParams(t,e)),s=o.x,u=o.y,l=o.r,d=o.s,c=o.e,f=o.d,h=o.alpha,v=o.isFill,g=o.lineWidth,w=o.color,m=o.rotate,p=o.windowAlign,b=o.borderColor,y=o.borderWidth,x=o.offsetRight,k=o.drawImage,T=o.shadow,C=o.gradient;if("black"===w&&k?w="none":"black"===w&&(w="#ffffff"),T.show&&a.setShadow(T.x,T.y,T.blur,T.color),s+=l,u+=l,"none"!==p&&(s=a.computedCenterX(i,2*l,p,x),s+=l),!k&&m.deg&&(n.save(),a.setRotate(s-l,u-l,2*l,2*l,m)),n.beginPath(),a.setAlpha(h),n.arc(s,u,l,d,c,f),v){if(0!=y&&(a.setLineWidth(y),a.setStrokeStyle(b),n.stroke()),C.show){var P=C.type,M=C.relative,I=C.position,A=C.colors;w=r.getGradient(P||"linear",M,r.conversionUnit(I),A,{x:s,y:u})}(!k||k&&"none"!==w)&&(a.setFillStyle(w),n.fill())}else a.setLineWidth(g),a.setStrokeStyle(w),n.stroke();a.setAlpha(1),!k&&m.deg&&n.restore(),T.show&&a.setShadow(0,0,0,"black")}}]),t}();e.default=s},f18a:function(t,e,n){"use strict";var r=n("1cb5");r("flat")},f2d3:function(t,e,n){"use strict";n("6a54");var r=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("bf0f"),n("aa9c"),n("64aa");var a=r(n("2634")),i=r(n("2fdc")),o=r(n("a823")),s=r(n("9b1b")),u=r(n("80b1")),l=r(n("efe5")),d=r(n("0e9b")),c=["x","y","image","windowAlign","offsetRight"],f=function(){function t(e){(0,u.default)(this,t),Object.assign(this,e)}return(0,l.default)(t,[{key:"getDrawParams",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.commonUtilMethods.getGlobalDataDrawParams(t),r=t.text,a=void 0===r?"":r,i=t.image,o=void 0===i?{}:i,u=t.size,l=void 0===u?100:u,d=t.lv,c=void 0===d?3:d,f=t.background,h=void 0===f?"#ffffff":f,v=t.foreground,g=void 0===v?"#000000":v,w=t.pdground,m=void 0===w?"#000000":w,p=(0,s.default)((0,s.default)({},n),{},{text:String(a)||"",image:o,size:l,correctLevel:c,background:h,foreground:g,pdground:m});return e?this.commonUtilMethods.conversionUnit(p):p}},{key:"draw",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this.Context,s=this.commonUtilMethods,u=this.commonDrawMethods,l=s.canvasWidth,f=(s.is2d,this.getDrawParams(e,n)),h=f.x,v=f.y,g=f.image,w=f.windowAlign,m=f.offsetRight,p=(0,o.default)(f,c);return new Promise(function(){var e=(0,i.default)((0,a.default)().mark((function e(i){var o,c,f,b,y,x,k,T,C,P,M,I,A,S,D,L,R,E,O,_,U,F,z,j,B;return(0,a.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:"none"!==w&&(h=u.computedCenterX(l,p.size,w,m)),o=[],c=null,f=o.length,b=0,y=0;case 6:if(!(y<f)){e.next=14;break}if(b=y,o[y].text!=p.text||o[y].text.correctLevel!=p.correctLevel){e.next=11;break}return c=o[y].obj,e.abrupt("break",14);case 11:y++,e.next=6;break;case 14:for(b==f&&(c=new d.default(p.text,p.correctLevel),o.push({text:p.text,correctLevel:p.correctLevel,obj:c})),x=function(t){var e=t.options;return e.pdground&&(t.row>1&&t.row<5&&t.col>1&&t.col<5||t.row>t.count-6&&t.row<t.count-2&&t.col>1&&t.col<5||t.row>1&&t.row<5&&t.col>t.count-6&&t.col<t.count-2)?e.pdground:e.foreground},k=c.getModuleCount(),T=p.size,C=s.getConvertedValue(g.size)||30,P=(T/k).toPrecision(4),M=(T/k).toPrecision(4),I=0;I<k;I++)for(A=0;A<k;A++)S=Math.ceil((A+1)*P)-Math.floor(A*P),D=Math.ceil((I+1)*P)-Math.floor(I*P),L=x({row:I,col:A,count:k,options:p}),u.setFillStyle(c.modules[I][A]?L:p.background),r.fillRect(h+Math.round(A*P),v+Math.round(I*M),S,D);if(!g.src){e.next=31;break}return R=n?t.commonUtilMethods.conversionUnit(g):g,E=R.src,O=R.r,_=R.color,U=R.borderWidth,F=R.borderColor,z=h+Number(((T-C)/2).toFixed(2)),j=v+Number(((T-C)/2).toFixed(2)),e.next=28,u.drawParams.drawImage.draw({x:z,y:j,w:C,h:C,src:E,r:O,color:_,borderWidth:U,borderColor:F,drawType:"rect",isCompressImage:!1},!1);case 28:if(B=e.sent,B.success){e.next=31;break}return e.abrupt("return",i(B));case 31:return e.abrupt("return",i({success:!0}));case 32:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),t}();e.default=f},f3f7:function(t,e,n){"use strict";n("53f7")},fe69:function(t,e,n){"use strict";n("6a54");var r=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.getImageInfo=e.default=void 0,e.getImageSrc=w,e.getModeImage=void 0,n("bf0f"),n("5c47"),n("0506"),n("64aa"),n("4626"),n("5ac7");var a=r(n("2634")),i=r(n("2fdc")),o=r(n("a823")),s=r(n("9b1b")),u=r(n("80b1")),l=r(n("efe5")),d=n("10d8"),c=["w","src","windowAlign","drawModeImage","offsetRight","x"],f=function(){function t(e){(0,u.default)(this,t),Object.assign(this,e)}return(0,l.default)(t,[{key:"getDrawParams",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.commonUtilMethods.getGlobalDataDrawParams(t),r=t.src,a=void 0===r?"":r,i=t.mode,o=void 0===i?"aspectFill":i,u=t.triangle,l=void 0===u?{}:u,d=t.isCompressImage,c=void 0!==d&&d,f=t.quality,h=void 0===f?100:f,v=t.drawSrc,g=void 0!==v&&v,w=t.drawModeImage,m=void 0!==w&&w,p=t.drawImageInfo,b=void 0!==p&&p,y=(0,s.default)((0,s.default)({},n),{},{src:a,mode:o,drawType:t.drawType||"default",triangle:l,isCompressImage:c,quality:h,drawSrc:g,drawModeImage:m,drawImageInfo:b,drawImage:!0});return e?this.commonUtilMethods.conversionUnit(y):y}},{key:"draw",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=(this.Context,this.commonUtilMethods),u=this.commonDrawMethods,l=r.canvasWidth,d=r.is2d,f=this.getDrawParams(e,n),h=f.w,v=f.src,m=f.windowAlign,p=f.drawModeImage,b=f.offsetRight,y=f.x,x=(0,o.default)(f,c);return new Promise(function(){var e=(0,i.default)((0,a.default)().mark((function e(n){var r,o,c,f;return(0,a.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,/\S/.test(v)){e.next=3;break}return e.abrupt("return",n({success:!1,message:"图片路径为空"}));case 3:if(d){e.next=10;break}return e.next=6,w(v);case 6:if(r=e.sent,r.success){e.next=9;break}return e.abrupt("return",n(r));case 9:v=r.src;case 10:if("none"!==m&&(y=u.computedCenterX(l,h,m,b)),o=p,o){e.next=18;break}return e.next=15,g(v);case 15:if(o=e.sent,o.success){e.next=18;break}return e.abrupt("return",n(o));case 18:if(c=t.getImage(v),f=(0,s.default)((0,s.default)({},x),{},{x:y,imageInfo:o,img:c,w:h,src:v,windowAlign:m,drawModeImage:p,offsetRight:b}),!d){e.next=24;break}c.onload=(0,i.default)((0,a.default)().mark((function e(){return(0,a.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=n,e.next=3,t.drawImageByType(f);case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)}))),e.next=29;break;case 24:return e.t0=n,e.next=27,t.drawImageByType(f);case 27:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 29:e.next=34;break;case 31:return e.prev=31,e.t2=e["catch"](0),e.abrupt("return",n({success:!1,msg:"绘制图片出错"+e.t2}));case 34:case"end":return e.stop()}}),e,null,[[0,31]])})));return function(t){return e.apply(this,arguments)}}())}},{key:"drawImageByType",value:function(t){var e=this,n=t.imageInfo,r=t.r,o=t.x,s=t.y,u=t.w,l=t.h,d=t.rotate,c=t.borderWidth,f=t.borderColor,v=t.color,g=t.alpha,w=t.borderType,m=t.triangle,p=t.mode,b=t.drawType,y=t.img,x=t.shadow,k=(t.drawSrc,t.drawModeImage),T=this.Context,C=this.commonDrawMethods,P=this.commonUtilMethods,M=P.unit,I=P.pxToRpx;return new Promise(function(){var t=(0,i.default)((0,a.default)().mark((function t(P){var A,S,D,L,R,E,O,_,U,F,z,j,B,W;return(0,a.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0===l&&(l=u),A=k,A||(A=h(Number(n.width),Number(n.height),o,s,u,l,p)),S=A,D=S.dx,L=S.dy,R=S.dw,E=S.dh,O=S.sw,_=S.sh,U=S.sx,F=S.sy,T.save(),T.beginPath(),"triangle"!==b&&C.setRotate(o,s,u,l,d),z=function(){var t=(0,i.default)((0,a.default)().mark((function t(){return(0,a.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return T.clip(),C.setAlpha(g),t.next=4,e.drawImageContent(p,b,y,D,L,R,E,U,F,O,_);case 4:T.restore();case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),"default"!=b){t.next=16;break}return C.setAlpha(g),t.next=12,e.drawImageContent(p,b,y,D,L,R,E,U,F,O,_,o,s,u,l);case 12:T.clip(),T.restore(),t.next=37;break;case 16:if("arc"!==b){t.next=22;break}return C.drawParams.drawArc.draw({x:o,y:s,r:u/2,borderWidth:c,borderColor:f,color:v,drawImage:!0,shadow:x},!1),t.next=20,z();case 20:t.next=37;break;case 22:if("rect"!==b){t.next=29;break}return"widthFix"===p?l=_:"heightFix"===p&&(u=O),C.drawParams.drawRect.draw({x:o,y:s,w:u,h:l,alpha:g,borderWidth:c,borderColor:f,borderType:w,r:r,color:v,drawImage:!0,shadow:x},!1),t.next=27,z();case 27:t.next=37;break;case 29:if("triangle"!==b){t.next=37;break}return j=m.type||"isosceles",B=m.coordinate||[],W=m.direction||"top","custom"!==j&&C.setTriangleRotate(o,s,u,l,d,j),C.drawParams.drawTriangle.draw({x:o,y:s,w:u,h:l,alpha:g,borderWidth:c,borderColor:f,color:v,coordinate:B,direction:W,drawType:j,drawImage:!0},!1),t.next=37,z();case 37:return C.setAlpha(1),t.abrupt("return",P({success:!0,w:"rpx"===M?I(u):u,h:"rpx"===M?I(l):l}));case 39:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"drawImageContent",value:function(t,e,n,r,o,s,u,l,d,c,f,h,v,g,w){var m=this.Context;return new Promise(function(){var p=(0,i.default)((0,a.default)().mark((function i(p){return(0,a.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if("default"!==e){a.next=5;break}return a.next=3,m.drawImage(n,h,v,g,w);case 3:a.next=12;break;case 5:if("default"===t){a.next=10;break}return a.next=8,m.drawImage(n,r,o,s,u,l,d,c,f);case 8:a.next=12;break;case 10:return a.next=12,m.drawImage(n,r,o,s,u);case 12:p(!0);case 13:case"end":return a.stop()}}),i)})));return function(t){return p.apply(this,arguments)}}())}},{key:"getImage",value:function(t){var e=this.commonUtilMethods,n=e.is2d,r=e.canvas;if(n){var a=r.createImage();return a.src=t,a}return t}}]),t}();e.default=f;var h=function(t,e,n,r,a,i,o){return"aspectFit"===o?function(t,e,n,r,a,i){var o=e/t,s=a,u=o*s;o>=1&&(o=t/e,u=i,s=o*u);return{sw:s,sh:u,sx:n+(a-s)/2,sy:r+(i-u)/2,dw:t,dh:e,dx:0,dy:0}}(t,e,n,r,a,i):"aspectFill"===o?v(t,e,n,r,a,i):"widthFix"===o?function(t,e,n,r,a,i){var o=e/t,s=a,u=s*o;return{sw:s,sh:u,sx:n,sy:r,dw:t,dh:e,dx:0,dy:0}}(t,e,n,r,a):"heightFix"===o?function(t,e,n,r,a,i){var o=t/e,s=i,u=s*o;return{sw:u,sh:s,sx:n,sy:r,dw:t,dh:e,dx:0,dy:0}}(t,e,n,r,0,i):"default"===o?{dw:a,dh:i,dx:n,dy:r}:v(t,e,n,r,a,i)};function v(t,e,n,r,a,i){var o=e/t,s=a,u=o*s,l=0,d=(e-i*(e/u))/2;return o<1&&(o=t/e,u=i,s=o*u,d=0,l=(t-a*(t/s))/2),{sw:s,sh:u,sx:n,sy:r,dw:t,dh:e,dx:l,dy:d}}e.getModeImage=h;var g=function(t){return new Promise((function(e){uni.getImageInfo({src:t,success:function(t){e((0,s.default)({success:!0},t))},fail:function(t){e({success:!1,msg:t})}})}))};function w(t){return new Promise(function(){var e=(0,i.default)((0,a.default)().mark((function e(n){var r;return(0,a.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,d.base64ToPathFn)(t);case 2:if(t=e.sent,!t.includes("http")||t.includes("resource")){e.next=10;break}return e.next=6,(0,d.downloadFile)(t);case 6:if(r=e.sent,r.success){e.next=9;break}return e.abrupt("return",n({success:!1,msg:"图片路径为:".concat(t,"的文件下载失败")}));case 9:t=r.data.tempFilePath;case 10:return e.abrupt("return",n({success:!0,src:t}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}e.getImageInfo=g}}]);
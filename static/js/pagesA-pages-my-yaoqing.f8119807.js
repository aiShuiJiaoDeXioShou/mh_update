(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pagesA-pages-my-yaoqing"],{3944:function(t,e,n){var a=n("b6a8");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("967d").default;i("e4cf9d7e",a,!0,{sourceMap:!1,shadowMode:!1})},"516b":function(t,e,n){"use strict";n.r(e);var a=n("d7b5"),i=n("6a84");for(var r in i)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(r);n("b64a");var s=n("828b"),o=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,"4fc2f0a1",null,!1,a["a"],void 0);e["default"]=o.exports},"5fcf":function(t,e,n){"use strict";var a=n("baa7"),i=n.n(a);i.a},"5fd8":function(t,e,n){"use strict";n.r(e);var a=n("7605"),i=n("8d22");for(var r in i)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(r);n("5fcf");var s=n("828b"),o=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,"36f8a988",null,!1,a["a"],void 0);e["default"]=o.exports},"6a84":function(t,e,n){"use strict";n.r(e);var a=n("9314"),i=n.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(r);e["default"]=i.a},7605:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){}));var a=function(){var t=this.$createElement,e=this._self._c||t;return e("v-uni-view",[e("v-uni-canvas",{staticClass:"canvas",style:[this.canvasStyle],attrs:{id:this.canvasId,"canvas-id":this.canvasId}})],1)},i=[]},"8d22":function(t,e,n){"use strict";n.r(e);var a=n("d284"),i=n.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(r);e["default"]=i.a},9314:function(t,e,n){"use strict";n("6a54");var a=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("2634")),r=a(n("2fdc")),s=(n("10d8"),a(n("5fd8"))),o=(a(n("8d5a")),{components:{PosterCanvas:s.default},data:function(){return{share_ma:"",url:"",share_bg:"",userInfo:null,show:!1,showPoster:!1,posterImage:"",codeShareUrl:"",appShareUrl:"",localPosterCover:"",h5LocalPosterCover:"",mainbg:""}},onLoad:function(){uni.getStorageSync("user")?this.share_ma=uni.getStorageSync("user").share_ma:uni.redirectTo({url:"/pages/my/login"}),this.get_share_data(),this.get_my_share_url()},onShow:function(){this.getUser()},methods:{getwxacod:function(){this.$http({url:"https://api.weixin.qq.com/wxa/getwxacode?access_token=ACCESS_TOKENl"}).then((function(t){}))},handleInvite:function(){this.show=!0},getBase64:function(t){var e=this,n=new XMLHttpRequest;n.open("get",t,!0),n.responseType="blob",n.onload=function(){if(200==this.status){var t=this.response,n=new FileReader;n.onloadend=function(t){e.h5LocalPosterCover=t.target.result},n.readAsDataURL(t)}},n.send()},savePicture:function(t){var e=new Image;e.crossOrigin="anonymous",e.onload=function(){var t=document.createElement("a");t.download=+new Date+".jpg",t.style.display="none";var e=document.createElement("canvas"),n=e.getContext("2d");e.width=this.naturalWidth,e.height=this.naturalHeight,n.drawImage(this,0,0),t.href=e.toDataURL("image/jpeg"),document.body.appendChild(t),t.click(),document.body.removeChild(t)},console.log(t,"111111111111nnn"),this.h5LocalPosterCover=t},get_share_data:function(){var t=this;this.$http({url:"api/common/get_general"}).then((function(e){console.log("res",e),1==e.data.code&&(t.shareUrl="/pages/my/login?share_ma="+t.share_ma,t.mainbg=e.data.data.share_bg,t.getBase64(e.data.data.h5_share_ewm_bg))})).catch((function(t){}))},get_my_share_url:function(){var t=this;this.$http({url:"api/common/get_my_share",data:{share_ma:this.share_ma,type:0}}).then((function(e){console.log(e),1==e.data.code&&(t.url=e.data.data,t.appShareUrl=e.data.data)})).catch((function(t){}))},copy:function(){if(""!=this.url){var t=decodeURIComponent(this.url);uni.setClipboardData({data:t,success:function(){}})}else this.$tip.tip("出错了，请稍后再试")},appShare:function(t){var e=this;if(""!=this.url){var n=decodeURIComponent(this.url);uni.share({provider:"weixin",scene:t,type:0,href:n,title:"邀你一起开盲盒~",imageUrl:this.mainbg,success:function(t){e.show=!1},fail:function(t){uni.showToast({title:"分享失败",icon:"none",duration:2e3}),e.show=!1}})}else this.$tip.tip("出错了，请稍后再试")},get_poster:function(){var t=this;this.$http({url:"api/member/get_wxamp_share_qrcode"}).then((function(e){1==e.data.code&&(t.codeShareUrl=e.data.data.qecode,console.log(t.codeShareUrl,"22"))}))},getUser:function(){var t=this;this.$http({url:"api/member/get_user_info"}).then((function(e){console.log(e),1==e.data.code&&(t.userInfo=e.data.data)})).catch((function(t){}))},sharePoster:function(){uni.showLoading({title:"生成中"}),this.show=!1,console.log("codeShareUrl",this.codeShareUrl,"url",this.url),this.$refs.childCanvas.drawPoster().then((function(){uni.hideLoading()}))},canvasSuccess:function(t){var e=t.showPoster,n=t.posterImage;this.showPoster=e,this.posterImage=n},onShareAppMessage:function(t){return"button"===t.from&&console.log(t.target),{title:"邀请好友得豪礼",path:"/pages/tabBar/home?share_ma="+this.share_ma}},saveImage:function(){var t=this;return(0,r.default)((0,i.default)().mark((function e(){var n;return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return uni.showToast({title:"H5不支持API保存图片,请使用长按保存!!!",icon:"none"}),e.abrupt("return");case 4:if(n=e.sent,n.success){e.next=8;break}return uni.showToast({title:"保存图片失败!!!",icon:"none"}),e.abrupt("return");case 8:t.showPoster=!1;case 9:case"end":return e.stop()}}),e)})))()}}});e.default=o},b64a:function(t,e,n){"use strict";var a=n("3944"),i=n.n(a);i.a},b6a8:function(t,e,n){var a=n("c86c");e=a(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.invite[data-v-4fc2f0a1]{width:100%;position:relative}.invite .bg[data-v-4fc2f0a1]{width:100%;position:absolute;top:0;z-index:1}.invite-earnings[data-v-4fc2f0a1]{position:absolute;width:%?690?%;height:%?200?%;left:%?30?%;box-sizing:border-box;top:0;z-index:9;margin-top:%?1250?%;display:flex;justify-content:space-around;align-items:center}.invite .earnings-list[data-v-4fc2f0a1]{text-align:center}.invite .earnings-list-text[data-v-4fc2f0a1]{font-size:%?22?%;color:#888}.invite .earnings-list-price[data-v-4fc2f0a1]{color:#fe7d57;font-size:%?36?%;font-weight:700;margin-top:%?20?%}.invite .earnings-list-price uni-text[data-v-4fc2f0a1]{font-size:%?26?%;margin-left:%?6?%;font-weight:400}.invite .earnings-list-btn[data-v-4fc2f0a1]{color:#fe7d57;font-size:%?22?%;margin-top:%?30?%;width:%?140?%;height:%?40?%;line-height:%?40?%;text-align:center;background-color:rgba(255,160,122,.4);border-radius:%?20?%}.invite .invite-step[data-v-4fc2f0a1]{position:absolute;width:%?690?%;height:%?200?%;left:%?30?%;box-sizing:border-box;top:0;z-index:9;margin-top:%?1620?%;display:flex;justify-content:space-around;align-items:center}.invite .invite-step uni-image[data-v-4fc2f0a1]{width:100%}.btn-ground[data-v-4fc2f0a1]{height:calc(%?100?% + constant(safe-area-inset-bottom));height:calc(%?100?% + env(safe-area-inset-bottom));width:%?690?%;position:fixed;bottom:0;z-index:10;left:%?30?%;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom);display:flex;justify-content:space-between;align-items:center}.btn-ground-left[data-v-4fc2f0a1], .btn-ground-right[data-v-4fc2f0a1]{width:%?330?%;height:%?100?%;box-sizing:border-box;display:flex;justify-content:center;align-items:center;font-size:%?34?%;font-weight:700}.btn-ground-left[data-v-4fc2f0a1]{background:#f7cdba;background:linear-gradient(0deg,#f7cdba,#fdf8f1);border-radius:10px;color:#fe7d57}.btn-ground-right[data-v-4fc2f0a1]{background:#e19b6e;background:linear-gradient(0deg,#e19b6e,#f27547);border-radius:10px;color:#fff}.invite-model[data-v-4fc2f0a1]{height:%?500?%;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.invite-model .invite-model-content[data-v-4fc2f0a1]{height:%?380?%;width:100%;box-sizing:border-box;display:flex;flex-direction:column;align-items:center}.invite-model .invite-model-close[data-v-4fc2f0a1]{text-align:center;height:%?100?%;width:100%}.invite-model .content-title[data-v-4fc2f0a1]{background:#e19b6e;background:linear-gradient(0deg,#e19b6e,#f27547);border-radius:10px;width:%?200?%;height:%?60?%;display:flex;justify-content:center;align-items:center;color:#fff;margin-top:%?30?%}.invite-model .content-img[data-v-4fc2f0a1]{width:%?690?%;display:flex;justify-content:space-around;margin-top:%?50?%}.invite-model .content-img uni-image[data-v-4fc2f0a1]{width:%?200?%;height:%?200?%}.poster-box[data-v-4fc2f0a1]{width:%?600?%}.poster-box .btn-share[data-v-4fc2f0a1]{display:flex;justify-content:space-between;box-sizing:border-box;padding:%?20?% %?80?%}.poster-box .btn-share .button[data-v-4fc2f0a1]{background:#845ec2;padding:0 %?30?%;height:%?70?%;font-size:%?26?%;color:#fff;border-radius:%?30?%;text-align:center;line-height:%?70?%}.share-btn[data-v-4fc2f0a1]{background-color:#fff;margin:0;padding:0}.share-btn[data-v-4fc2f0a1]::after{border:none}.img-box[data-v-4fc2f0a1]{width:%?600?%;overflow:hidden}',""]),t.exports=e},baa7:function(t,e,n){var a=n("dff3");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("967d").default;i("1642646a",a,!0,{sourceMap:!1,shadowMode:!1})},d284:function(t,e,n){"use strict";n("6a54");var a=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("aa77"),n("bf0f");var i=a(n("2634")),r=a(n("2fdc")),s=a(n("138a")),o={props:{shareUrl:{type:String,default:function(){return""}},appShareUrl:{type:String,default:function(){return""}},localPosterCover:{type:String,default:function(){return""}},h5LocalPosterCover:{type:String,default:function(){return""}},h5Url:{type:String,default:function(){return""}}},data:function(){return{canvasStyle:{width:"750rpx",height:"500rpx"},showPoster:!1,posterImage:"",canvasId:"autoHeight"}},mounted:function(){this.createDraw()},methods:{createDraw:function(){var t=this,e=new s.default({width:750,height:500,canvasId:this.canvasId,_this:this,unit:"rpx",type:"default",fontStyle:{size:32},background:{type:"color",color:"#ffffff",w:750,h:99999},drawDelayTime:200,exportImageDelayTime:400});this.draw=e,e.$on("init",(0,r.default)((0,i.default)().mark((function t(){return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.drawBackground();case 2:case"end":return t.stop()}}),t)})))),e.$on("drawComplete",function(){var n=(0,r.default)((0,i.default)().mark((function n(a){var r,s;return(0,i.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=a.width,a.height,s=a.contentHeight,console.log(s),t.canvasStyle.width=r+e.unit,t.canvasStyle.height=s-20+e.unit,n.next=6,e.setCanvasStyle(r,s);case 6:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}())},drawPoster:function(){var t=this;return(0,r.default)((0,i.default)().mark((function e(){var n;return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.draw.drawPoster((function(e){var n=e.ctxObj,a=(e.bgObj,n.width),i=n.height,r=function(){return t.h5LocalPosterCover};console.log(r(),i);var s={name:"image",type:"image",w:a,mode:"widthFix",drawType:"rect",src:r()},o={name:"qcCode",type:"qrcode",text:t.h5Url,size:140,image:{src:"/pagesA/static/head.jpg",size:95,r:10,borderWidth:14,borderColor:"#ffffff"},callback:function(t,e){var n=e.find((function(t){return"image"===t.name})),i=(n.sx,n.ex),r=e.find((function(t){return"image"===t.name})),s=r.ey;return{w:a/3,x:i-610,y:s-213}}};return[s,{},{},o]}));case 2:if(n=e.sent,n.success){e.next=5;break}return e.abrupt("return");case 5:t.$emit("handleSuccess",{showPoster:!0,posterImage:n.data}),t.showPoster=!0,t.posterImage=n.data,console.log(t.posterImage,"this.posterImage");case 9:case"end":return e.stop()}}),e)})))()}}};e.default=o},d7b5:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return a}));var a={uNavbar:n("bd30").default,uIcon:n("d532").default,uPopup:n("c20b").default},i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("u-navbar",{attrs:{title:"邀请有奖"}}),n("v-uni-view",{staticClass:"invite"},[n("v-uni-image",{staticClass:"bg",attrs:{src:t.mainbg,mode:"widthFix"}}),t.userInfo?n("v-uni-view",{staticClass:"invite-earnings"},[n("v-uni-view",{staticClass:"earnings-list"},[n("v-uni-view",{staticClass:"earnings-list-text"},[t._v("当前收益")]),n("v-uni-view",{staticClass:"earnings-list-price"},[t._v(t._s(t.userInfo.team_income_sum)),n("v-uni-text",[t._v("元")])],1),n("v-uni-view",{staticClass:"earnings-list-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.$.to("/pagesA/pages/my/currency?sta=1")}}},[t._v("查看详情"),n("u-icon",{attrs:{name:"arrow-right",size:"22"}})],1)],1),n("v-uni-view",{staticClass:"earnings-list"},[n("v-uni-view",{staticClass:"earnings-list-text"},[t._v("可提现收益")]),n("v-uni-view",{staticClass:"earnings-list-price"},[t._v(t._s(t.userInfo.balance)),n("v-uni-text",[t._v("元")])],1),n("v-uni-view",{staticClass:"earnings-list-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.$.to("/pagesA/pages/my/currency?sta=1")}}},[t._v("查看详情"),n("u-icon",{attrs:{name:"arrow-right",size:"22"}})],1)],1),n("v-uni-view",{staticClass:"earnings-list"},[n("v-uni-view",{staticClass:"earnings-list-text"},[t._v("已邀请")]),n("v-uni-view",{staticClass:"earnings-list-price",staticStyle:{color:"#000"}},[t._v(t._s(t.userInfo.xj_count)),n("v-uni-text",[t._v("人")])],1),n("v-uni-view",{staticClass:"earnings-list-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.$.to("/pagesA/pages/my/myTeam")}}},[t._v("查看详情"),n("u-icon",{attrs:{name:"arrow-right",size:"22"}})],1)],1)],1):t._e(),n("v-uni-view",{staticClass:"invite-step"},[n("v-uni-image",{attrs:{src:"https://img.alicdn.com/imgextra/i2/2215984279448/O1CN014O4III2JfEvQxJxWm_!!2215984279448.png",mode:"widthFix"}})],1)],1),n("v-uni-view",{staticClass:"btn-ground"},[n("v-uni-view",{staticClass:"btn-ground-left",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.$.to("/pagesA/pages/my/withdrawal")}}},[t._v("立即提现")]),n("v-uni-view",{staticClass:"btn-ground-right",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.sharePoster.apply(void 0,arguments)}}},[t._v("立即邀请")])],1),n("u-popup",{attrs:{mode:"bottom","border-radius":"14"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("v-uni-view",{staticClass:"invite-model"},[n("v-uni-view",{staticClass:"invite-model-content"},[n("v-uni-view",{staticClass:"content-title"},[t._v("分享")]),n("v-uni-view",{staticClass:"content-img"},[n("v-uni-image",{attrs:{src:"https://img.alicdn.com/imgextra/i1/2215984279448/O1CN014HpQcA2JfEvRys5Lq_!!2215984279448.png",mode:""},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.sharePoster.apply(void 0,arguments)}}})],1)],1),n("v-uni-view",{staticClass:"invite-model-close",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.show=!1}}},[t._v("取消")])],1)],1),n("u-popup",{attrs:{mode:"center",background:"transparent"},model:{value:t.showPoster,callback:function(e){t.showPoster=e},expression:"showPoster"}},[n("v-uni-view",{staticClass:"poster-box"},[n("v-uni-view",{staticClass:"img-box"},[n("v-uni-image",{staticStyle:{width:"100%"},attrs:{src:t.posterImage,mode:"widthFix"}})],1),n("v-uni-view",{staticClass:"btn-share"},[n("v-uni-view",{staticClass:"button",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.saveImage.apply(void 0,arguments)}}},[t._v("保存海报")]),n("v-uni-view",{staticClass:"button",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showPoster=!1}}},[t._v("关闭海报")])],1)],1)],1),n("PosterCanvas",{ref:"childCanvas",attrs:{h5LocalPosterCover:t.h5LocalPosterCover,h5Url:t.url,localPosterCover:t.localPosterCover,shareUrl:t.codeShareUrl,appShareUrl:t.appShareUrl},on:{handleSuccess:function(e){arguments[0]=e=t.$handleEvent(e),t.canvasSuccess.apply(void 0,arguments)}}})],1)},r=[]},dff3:function(t,e,n){var a=n("c86c");e=a(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.canvas[data-v-36f8a988]{position:fixed;left:%?-999999?%;top:%?-999999?%}.poster-box[data-v-36f8a988]{width:%?750?%;height:%?500?%;background-color:red}',""]),t.exports=e}}]);